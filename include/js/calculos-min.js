function dadosFirstTotal(){if(inputId>=1&&""!=$("#valor-input-consumo1").val()&&""!=$("#consumos-caixa1").val())for(first_total=0,i=1;i<=inputId;i++)""!=$("#valor-input-consumo"+i).val()&&null!=$("#valor-input-consumo"+i).val()&&$("#valor-input-consumo"+i).val()>0&&""!=$("#consumos-caixa"+i).val()&&null!=$("#consumos-caixa"+i).val()&&$("#consumos-caixa"+i).val()>=0&&(first_total+=$("#valor-input-consumo"+i).val()*fonteEnergeticaI[$("#consumos-caixa"+i).val()].unidade[0].valor);else first_total=0;first_total>0?$("#total-titulo").val(first_total.toFixed(0)+" kWh"):$("#total-titulo").val("")}function run(){var a=$("#simulacao-aqs").val(),o=$("#pres-aqs").val(),e=$("#escolhe").val();areaCalc(),1!=$("#consumo-quest").val()&&1!=$("#consumo-quest-arr").val()||(uCalc(),invernoCalc(),veraoCalc(),""==e||null==e||0!=e&&2!=e||(necessidadesAquecimento(),consumoInicialAquecimento()),""==e||null==e||1!=e&&2!=e||(necessidadesArrefecimento(),consumoInicialArrefecimento())),0==a&&""!=a&&(necessidadesEnergeticas(),correcaoOrientacao(),energiaSolarCaptadaM2(),racio(),nColetores(),areaNecessidade(),energiaSolarCaptadaMJ(),energiaSolarUtilizada(),energiaSolarUtilizadaPerc(),energiaSA(),energiaSAPerc(),excedenteSolar(),excedenteSolarPerc(),volumeAcumulacao()),1==e?cenarioInicialConsumosArrefecimento():(cenarioInicialConsumosAqs(),cenarioInicialConsumosAquecimento()),cenarioInicialConsumosTotais(),1==e?cenarioInicialCustosArrefecimento():(cenarioInicialCustosAquecimento(),cenarioInicialCustosAqs()),cenarioInicialCustosTotais(),1==e?cenarioFinalConsumosArrefecimento():(cenarioFinalConsumosAquecimento(),cenarioFinalConsumosAqs()),cenarioFinalConsumosTotais(),1==e?cenarioFinalCustosArrefecimento():(cenarioFinalCustosAquecimento(),cenarioFinalCustosAqs()),cenarioFinalCustosTotais(),1==e?cenarioFinalReducaoArrefecimento():(cenarioFinalReducaoAquecimento(),cenarioFinalReducaoAqs()),cenarioFinalReducaoTotais(),1==e?resumoArrefecimento():(resumoAquecimento(),resumoAqs()),1==resumoGlobals()&&(showResumo(),$("#globals").show(),first_total>0&&0==o&&""!=o?(showGlobalResumo(),$(".no-aqs").show()):first_total>0&&1==o?(showGlobalResumo(),$(".no-aqs").hide()):0==o&&""!=o?(showGlobalResumo(),$(".no-aqs").show()):first_total>0?(showGlobalResumo(),$(".no-aqs").hide()):($("#globals").hide(),$(".no-aqs").hide()),1==e?($(".arr").show(),$(".aqs").hide(),$(".aq").hide()):($(".aq").show(),$(".arr").hide()),nextStep())}function areaCalc(){var a=$("#escolhe").val(),o=($("#distrito").val(),$("#area-dados-input").val()),e=1==a?$("#cobertura-arr").val():$("#cobertura").val(),r=1==a?$("#area-cobertura-input-arr").val():$("#area-cobertura-input").val();paredes_area=0,envidracados_area=0,cobertura_area=0,paredes_area=o*envolvente,envidracados_area=o*envidracados_direto,cobertura_area=1==e?0:new Number(r)}function uCalc(){var a=$("#escolhe").val(),o=1==a?$("#isol-paredes-arr").val():$("#isol-paredes").val(),e=1==a?$("#classe-en-arr").val():$("#classe-en").val(),r=1==a?$("#isol-cobertura-arr").val():$("#isol-cobertura").val(),_=1==a?$("#ano-arr").val():$("#ano").val(),i=1==a?$("#tipo-envid-arr").val():$("#tipo-envid").val();paredes_u=0,envidracados_u=0,cobertura_u=0,paredes_u=8==e?1==o?anos_construcao[_].info[0].valor:new Number((1/(1/anos_construcao[_].info[0].valor+1)).toFixed(2)):classes[e].info[0].valor,envidracados_u=8==e?0==_||2==_||3==_?envidracados[i].u:anos_construcao[_].info[2].valor:classes[e].info[1].valor,cobertura_u=8==e?""==r||1==r?anos_construcao[_].info[4].valor:anos_construcao[_].info[5].valor:classes[e].info[3].valor}function invernoCalc(){var a=$("#distrito").val(),o=$("#area-dados-input").val();paredes_kwh_inverno=0,paredes_perc_inverno=0,envidracados_kwh_inverno=0,envidracados_perc_inverno=0,cobertura_kwh_inverno=0,cobertura_perc_inverno=0,ganhos_kwh_inverno=0,ganhos_perc_inverno=0,total_1_kwh_inverno=0,total_2_kwh_inverno=0,total_3_kwh_inverno=0,total_4_kwh_inverno=0,paredes_kwh_inverno=paredes_area*paredes_u*distrito_info[a].gdi*coeficient_conversao,envidracados_kwh_inverno=envidracados_area*envidracados_u*distrito_info[a].gdi*coeficient_conversao,cobertura_kwh_inverno=cobertura_area*cobertura_u*distrito_info[a].gdi*coeficient_conversao,ganhos_kwh_inverno=ganhos_internos_i*o*distrito_info[a].duracao_estacao+.1*envidracados_area*(.25*distrito_info[a].radiacao)*distrito_info[a].duracao_estacao,total_1_kwh_inverno=paredes_kwh_inverno+envidracados_kwh_inverno+cobertura_kwh_inverno-ganhos_kwh_inverno*fator_ganhos,total_2_kwh_inverno=total_1_kwh_inverno/o,total_3_kwh_inverno=total_2_kwh_inverno/distrito_info[a].ni,paredes_perc_inverno=paredes_kwh_inverno/total_1_kwh_inverno,envidracados_perc_inverno=envidracados_kwh_inverno/total_1_kwh_inverno,cobertura_perc_inverno=cobertura_kwh_inverno/total_1_kwh_inverno,ganhos_perc_inverno=-ganhos_kwh_inverno*fator_ganhos/total_1_kwh_inverno,total_3_kwh_inverno<classes[1].valor_direto?total_4_kwh_inverno=classes[0].classe_id:total_3_kwh_inverno<classes[2].valor_direto?total_4_kwh_inverno=classes[1].classe_id:total_3_kwh_inverno<classes[3].valor_direto?total_4_kwh_inverno=classes[2].classe_id:total_3_kwh_inverno<classes[4].valor_direto?total_4_kwh_inverno=classes[3].classe_id:total_3_kwh_inverno<classes[5].valor_direto?total_4_kwh_inverno=classes[4].classe_id:total_3_kwh_inverno<classes[6].valor_direto?total_4_kwh_inverno=classes[5].classe_id:total_3_kwh_inverno<classes[7].valor_direto?total_4_kwh_inverno=classes[6].classe_id:total_4_kwh_inverno=classes[7].classe_id}function veraoCalc(){var a=$("#escolhe").val(),o=1==a?$("#classe-en-arr").val():$("#classe-en").val(),e=1==a?$("#ano-arr").val():$("#ano").val(),r=1==a?$("#tipo-envid-arr").val():$("#tipo-envid").val(),_=$("#distrito").val(),i=$("#area-dados-input").val();paredes_kwh_verao=0,paredes_perc_verao=0,envidracados_kwh_verao=0,envidracados_perc_verao=0,cobertura_kwh_verao=0,cobertura_perc_verao=0,ganhos_kwh_verao=0,ganhos_perc_verao=0,total_1_kwh_verao=0,total_2_kwh_verao=0,total_3_kwh_verao=0,total_4_kwh_verao=0,paredes_kwh_verao=paredes_area*paredes_u*necessidades_climatizacao_verao;var n=0,s=0;n=8==o?""==r?anos_construcao[e].info[3].valor:envidracados[r].Fs:classes[o].info[2].valor,s=8==o?""==r?anos_construcao[e].info[2].valor:envidracados[r].u:classes[o].info[3].valor,envidracados_kwh_verao=envidracados_area*fracao_envidracada*distrito_info[_].gdv*coeficient_conversao*n+envidracados_area*(1-fracao_envidracada)*distrito_info[_].gdv*coeficient_conversao*s,cobertura_kwh_verao=cobertura_area*cobertura_u*.5*.04*distrito_info[_].radiacao,ganhos_kwh_verao=i*ganhos_internos_v*necessidades_climatizacao_verao,total_1_kwh_verao=paredes_kwh_verao+envidracados_kwh_verao+cobertura_kwh_verao+ganhos_kwh_verao*fator_ganhos,total_2_kwh_verao=total_1_kwh_verao/i,total_3_kwh_verao=total_2_kwh_verao/distrito_info[_].nv,total_3_kwh_verao<classes[1].valor_direto?total_4_kwh_verao=classes[0].classe_id:total_3_kwh_verao<classes[2].valor_direto?total_4_kwh_verao=classes[1].classe_id:total_3_kwh_verao<classes[3].valor_direto?total_4_kwh_verao=classes[2].classe_id:total_3_kwh_verao<classes[4].valor_direto?total_4_kwh_verao=classes[3].classe_id:total_3_kwh_verao<classes[5].valor_direto?total_4_kwh_verao=classes[4].classe_id:total_3_kwh_verao<classes[6].valor_direto?total_4_kwh_verao=classes[5].classe_id:total_3_kwh_verao<classes[7].valor_direto?total_4_kwh_verao=classes[6].classe_id:total_4_kwh_verao=classes[7].classe_id,paredes_perc_verao=paredes_kwh_verao/total_1_kwh_verao,envidracados_perc_verao=envidracados_kwh_verao/total_1_kwh_verao,cobertura_perc_verao=cobertura_kwh_verao/total_1_kwh_verao,ganhos_perc_verao=ganhos_kwh_verao*fator_ganhos/total_1_kwh_verao}function necessidadesAquecimento(){var a=$("#escolhe").val(),o=$("#perfil").val(),e=$("#periodos").val(),r=$("#distrito").val();nec_aq_meses=[],total_nec_meses=0;for(var _=0;_<meses_numero_horas.length;_++)nec_aq_meses[_]=_>=0&&_<5||9==_||10==_?1==a?0:0==o?total_1_kwh_inverno*irradiacao_temp_amb_temp_agua[r].mesI[_].valorPerc*perfil_necessidades[0].valor:total_1_kwh_inverno*irradiacao_temp_amb_temp_agua[r].mesI[_].valorPerc:11==_?1==a?0:0!=o||0!=e&&3!=e&&4!=e?""!=e&&null!=e&&0==e||3==e||4==e?total_1_kwh_inverno*irradiacao_temp_amb_temp_agua[r].mesI[_].valorPerc*periodos_encerramento[e].valor:0==o?total_1_kwh_inverno*irradiacao_temp_amb_temp_agua[r].mesI[_].valorPerc*perfil_necessidades[o].valor:total_1_kwh_inverno*irradiacao_temp_amb_temp_agua[r].mesI[_].valorPerc:total_1_kwh_inverno*irradiacao_temp_amb_temp_agua[r].mesI[_].valorPerc*perfil_necessidades[o].valor*periodos_encerramento[e].valor:0,total_nec_meses+=nec_aq_meses[_]}function necessidadesArrefecimento(){var a=$("#escolhe").val(),o=$("#perfil-arr").val(),e=$("#periodos-arr").val(),r=$("#distrito").val();nec_arr_meses=[],total_nec_arr_meses=0;for(var _=0;_<meses_numero_horas.length;_++)nec_arr_meses[_]=5==_||8==_?0==a?0:0==o?total_1_kwh_verao*irradiacao_temp_amb_temp_agua[r].mesI[_].valorPerc*perfil_necessidades[o].valor:total_1_kwh_verao*irradiacao_temp_amb_temp_agua[r].mesI[_].valorPerc:6==_?0==a?0:0!=o||2!=e&&4!=e?""==e||null==e||2!=e&&4!=e?0==o?total_1_kwh_verao*irradiacao_temp_amb_temp_agua[r].mesI[_].valorPerc*perfil_necessidades[o].valor:total_1_kwh_verao*irradiacao_temp_amb_temp_agua[r].mesI[_].valorPerc:total_1_kwh_verao*irradiacao_temp_amb_temp_agua[r].mesI[_].valorPerc*periodos_encerramento[e].valor:total_1_kwh_verao*irradiacao_temp_amb_temp_agua[r].mesI[_].valorPerc*perfil_necessidades[o].valor*periodos_encerramento[e].valor:7==_?0==a?0:0!=o||1!=e&&2!=e&&3!=e&&4!=e?""==e||null==e||1!=e&&2!=e&&3!=e&&4!=e?0==o?total_1_kwh_verao*irradiacao_temp_amb_temp_agua[r].mesI[_].valorPerc*perfil_necessidades[o].valor:total_1_kwh_verao*irradiacao_temp_amb_temp_agua[r].mesI[_].valorPerc:total_1_kwh_verao*irradiacao_temp_amb_temp_agua[r].mesI[_].valorPerc*periodos_encerramento[e].valor:total_1_kwh_verao*irradiacao_temp_amb_temp_agua[r].mesI[_].valorPerc*perfil_necessidades[o].valor*periodos_encerramento[e].valor:0,total_nec_arr_meses+=nec_arr_meses[_]}function consumoInicialAquecimento(){var a=$("#fonte-aq").val(),o=$("#rendimento").val(),e=$("#idade").val(),r=new Number($("#iRendMan").val()),_=0;consumo_aq_meses=[],total_consumo_meses=0;for(var i=0;i<meses_numero_horas.length;i++)i>=0&&i<5||9==i||10==i||11==i?(_=""!=o&&0==o?new Number(tecnologia_atual_aquecimento[a].rendimento[e].valor):""!=a&&a>=0&&a<4?r/100:6==a?tecnologia_atual_aquecimento[a].rendimento[0].valor:r,consumo_aq_meses[i]=nec_aq_meses[i]/_):consumo_aq_meses[i]=0,total_consumo_meses+=consumo_aq_meses[i]}function consumoInicialArrefecimento(){var a=$("#fonte-ar").val(),o=$("#eer").val(),e=$("#age-eer").val(),r=new Number($("#iEERMan").val()),_=0;consumo_arr_meses=[],total_consumo_arr_meses=0;for(var i=0;i<meses_numero_horas.length;i++)i>=0&&i<5||9==i||10==i||11==i?consumo_arr_meses[i]=0:(_=""!=o&&0==o?new Number(tecnologia_atual_arrefecimento[a].rendimento[e].valor):r,consumo_arr_meses[i]=nec_arr_meses[i]/_),total_consumo_arr_meses+=consumo_arr_meses[i]}function consumoInicialAqs(){consumo_aqs_meses=[],total_consumo_aqs_meses=0;for(var a=0;a<meses_numero_horas.length;a++)consumo_aqs_meses[a]=cenario_inicial_aqs_array[a],total_consumo_aqs_meses+=consumo_aqs_meses[a]}function correcaoOrientacao(){var a=Math.abs($("#orientacao-input").val());correcao_orientacao_value=0,a>70?correcao_orientacao_value=0:a>desvios[2].valor?correcao_orientacao_value=new Number(1.14-.0085*a):correcao_orientacao_value=1}function nColetores(){total_n_coletores=0;var a=new Number((total_racio/area_coletor_solar).toFixed(0));total_n_coletores=0==a?1:a}function areaNecessidade(){total_area=0,total_area=new Number((total_n_coletores*area_coletor_solar).toFixed(0))}function arred(a,o){var e=0;return-1==o?e=10*Math.round(a/10):-2==o?e=100*Math.round(a/100):-3==o&&(e=1e3*Math.round(a/1e3)),e}function volumeAcumulacao(){total_vol_acumulacao=0,total_area<8?total_vol_acumulacao=arred(total_area*volume_acumulacao,-1):total_vol_acumulacao=arred(total_area*volume_acumulacao,-2)}function necessidadesEnergeticas(){var a=$("#cons-aqs").val(),o=$("#perfil-semanal").val(),e=$("#perfil-mensal").val(),r=0,_=$("#distrito").val(),i=$("#iRendMan").val(),n=$("#rendimento").val(),s=$("#aqs-consumo").val(),l=$("input[name='aqsConsumoAnualTotal']").val(),t=$("#fonte-aq").val(),c=$("#idade").val();if(total_media_verao_necen=0,necessidades_array=[],necessidades_total=0,0==o)r=.3;else if(1==o)r=.75;else if(3==o){var u=0;for(k=1;k<8;k++)u+=new Number($("#semanal-input-"+k).val());r=u/7/100}else r=1;""!=n&&0==n?i=tecnologia_atual_aquecimento[t].rendimento[c].valor:2==n&&t>=0&&t<4?i/=100:i=6==t?tecnologia_atual_aquecimento[t].rendimento[0].valor:i;for(var m=0;m<meses_numero_horas.length;m++)if(m>=4&&m<9){if(1==a){for(var d=0,v=1;v<=aqsRowId;v++)d+=$("#tipoconsumoval"+v).val()*(""!=consumo_diario_agua[$("#tipo-consumo"+v).val()].valor&&null!=consumo_diario_agua[$("#tipo-consumo"+v).val()].valor&&consumo_diario_agua[$("#tipo-consumo"+v).val()].valor>0?consumo_diario_agua[$("#tipo-consumo"+v).val()].valor:0);necessidades_array[m]=d*perfil_mensal[e].tabela[m].valor*r*meses_numero_horas[m].n_dias*fatores_conversao[0]*(temperatura_utilizacao-irradiacao_temp_amb_temp_agua[_].mesI[m].valorTempAgua)}else 0==a&&(0==s?necessidades_array[m]=l*meses_numero_horas[m].aqs_mensal*tecnologia_atual_aquecimento[t].fator_conversao*i:1==s&&(necessidades_array[m]=$("#aqsConsumosMeses"+m).val()*tecnologia_atual_aquecimento[t].fator_conversao*i));necessidades_total+=necessidades_array[m],total_media_verao_necen+=necessidades_array[m]/5}else{if(1==a){for(d=0,v=1;v<=aqsRowId;v++)d+=$("#tipoconsumoval"+v).val()*(""!=consumo_diario_agua[$("#tipo-consumo"+v).val()].valor&&null!=consumo_diario_agua[$("#tipo-consumo"+v).val()].valor&&consumo_diario_agua[$("#tipo-consumo"+v).val()].valor>0?consumo_diario_agua[$("#tipo-consumo"+v).val()].valor:0);necessidades_array[m]=d*perfil_mensal[e].tabela[m].valor*r*meses_numero_horas[m].n_dias*fatores_conversao[0]*(temperatura_utilizacao-irradiacao_temp_amb_temp_agua[_].mesI[m].valorTempAgua)}else 0==a&&(0==s?necessidades_array[m]=l*meses_numero_horas[m].aqs_mensal*tecnologia_atual_aquecimento[t].fator_conversao*i:1==s&&(necessidades_array[m]=$("#aqsConsumosMeses"+m).val()*tecnologia_atual_aquecimento[t].fator_conversao*i));necessidades_total+=necessidades_array[m]}}function racio(){total_racio=0,total_racio=new Number((total_media_verao_necen/fatores_conversao[1]/total_media_verao_solar).toFixed(2))}function energiaSolarCaptadaM2(){var a=$("#distrito").val();total_media_verao_solar=0,energia_solar_array=[],energia_solar_total=0;for(var o=0;o<meses_numero_horas.length;o++)o>=4&&o<9?(energia_solar_array[o]=(rendimento_otico*perdas[1].valor-coeficient_perdas*((temperatura_utilizacao-(irradiacao_temp_amb_temp_agua[a].mesI[o].valorTempAmb+irradiacao_temp_amb_temp_agua[a].mesI[o].valorTempAgua))/(correcao_inclinacao[irradiacao_temp_amb_temp_agua[a].go_latitude].meses[o].valor*(correcao_orientacao_value*perdas[2].valor*irradiacao_temp_amb_temp_agua[a].mesI[o].valorIrr)*(1e3*fatores_conversao[1]/meses_numero_horas[o].n_horas_sol))))*(correcao_inclinacao[irradiacao_temp_amb_temp_agua[a].go_latitude].meses[o].valor*(correcao_orientacao_value*perdas[1].valor*irradiacao_temp_amb_temp_agua[a].mesI[o].valorIrr))*(1-perdas[0].valor)*meses_numero_horas[o].n_dias,energia_solar_total+=energia_solar_array[o],total_media_verao_solar+=energia_solar_array[o]/5):(energia_solar_array[o]=(rendimento_otico*perdas[1].valor-coeficient_perdas*((temperatura_utilizacao-(irradiacao_temp_amb_temp_agua[a].mesI[o].valorTempAmb+irradiacao_temp_amb_temp_agua[a].mesI[o].valorTempAgua))/(correcao_inclinacao[irradiacao_temp_amb_temp_agua[a].go_latitude].meses[o].valor*(correcao_orientacao_value*perdas[2].valor*irradiacao_temp_amb_temp_agua[a].mesI[o].valorIrr)*(1e3*fatores_conversao[1]/meses_numero_horas[o].n_horas_sol))))*(correcao_inclinacao[irradiacao_temp_amb_temp_agua[a].go_latitude].meses[o].valor*(correcao_orientacao_value*perdas[1].valor*irradiacao_temp_amb_temp_agua[a].mesI[o].valorIrr))*(1-perdas[0].valor)*meses_numero_horas[o].n_dias,energia_solar_total+=energia_solar_array[o])}function energiaSolarCaptadaMJ(){energia_solar_mj_array=[],energia_solar_mj_total=0;for(var a=0;a<meses_numero_horas.length;a++)energia_solar_mj_array[a]=energia_solar_array[a]*total_n_coletores*area_coletor_solar,energia_solar_mj_total+=energia_solar_mj_array[a]}function energiaSolarUtilizada(){energia_solar_utilizada_array=[],energia_solar_utilizada_total=0;for(var a=0;a<meses_numero_horas.length;a++)energia_solar_utilizada_array[a]=energia_solar_mj_array[a]>necessidades_array[a]/fatores_conversao[1]?necessidades_array[a]/fatores_conversao[1]:energia_solar_mj_array[a],energia_solar_utilizada_total+=energia_solar_utilizada_array[a]}function energiaSolarUtilizadaPerc(){energia_solar_utilizada_perc_array=[],energia_solar_utilizada_perc_total=0;for(var a=0;a<meses_numero_horas.length;a++)energia_solar_utilizada_perc_array[a]=energia_solar_utilizada_array[a]/necessidades_array[a],energia_solar_utilizada_perc_total=energia_solar_utilizada_total/necessidades_total}function energiaSA(){energia_solar_sa_array=[],energia_solar_sa_total=0;var a=$("#new-fonte-aq").val(),o=$("#rend-med").val();3!=a&&4!=a&&(o/=100);for(var e=0;e<meses_numero_horas.length;e++)necessidades_array[e]/fatores_conversao[1]-energia_solar_mj_array[e]<0?energia_solar_sa_array[e]=0:energia_solar_sa_array[e]=(necessidades_array[e]/fatores_conversao[1]-energia_solar_utilizada_array[e])/o*fatores_conversao[1],energia_solar_sa_total+=energia_solar_sa_array[e]}function energiaSAPerc(){energia_solar_sa_perc_array=[],energia_solar_sa_perc_total=0;for(var a=0;a<meses_numero_horas.length;a++)energia_solar_sa_perc_array[a]=energia_solar_sa_array[a]/necessidades_array[a],energia_solar_sa_perc_total=energia_solar_sa_total/necessidades_total}function excedenteSolar(){excedente_solar_array=[],excedente_solar_total=0;for(var a=0;a<meses_numero_horas.length;a++)excedente_solar_array[a]=energia_solar_mj_array[a]-energia_solar_utilizada_array[a],excedente_solar_total+=excedente_solar_array[a]}function excedenteSolarPerc(){excedente_solar_perc_array=[],excedente_solar_perc_total=0;for(var a=0;a<meses_numero_horas.length;a++)excedente_solar_perc_array[a]=excedente_solar_array[a]/energia_solar_mj_array[a],excedente_solar_perc_total=excedente_solar_total/energia_solar_mj_total}function cenarioInicialConsumosAquecimento(){var a=$("#cons-aqs").val(),o=$("#consumo-quest").val(),e=$("#aquecimento-consumo").val(),r=($("#simulacao-aqs").val(),$("input[name='aquecimentoConsumoAnualTotal']").val()),_=$("#fonte-aq").val(),i=$("#distrito").val();""==$("#iRendMan").val()||null==$("#iRendMan").val()||5!=$("#iRendMan").val()&&6!=$("#iRendMan").val()?""!=$("#iRendMan").val()&&null!=$("#iRendMan").val()&&$("#iRendMan").val()>=0&&$("#iRendMan").val():$("#iRendMan").val();cenario_inicial_aquecimento_array=[],cenario_inicial_aquecimento_total=0;for(var n=0;n<meses_numero_horas.length;n++)n>=0&&n<5||n>=9&&n<12?1!=a&&""!=a||""==o||0!=o||1!=e?1!=a&&""!=a||""==o||0!=o||""==e||0!=e?0==a&&""!=a&&""!=o&&0==o&&""!=e&&0==e&&r*tecnologia_atual_aquecimento[_].fator_conversao*irradiacao_temp_amb_temp_agua[i].mesI[n].valorPerc<0?cenario_inicial_aquecimento_array[n]=0:0==a&&""!=a&&""!=o&&0==o&&""!=e&&0==e?cenario_inicial_aquecimento_array[n]=r*tecnologia_atual_aquecimento[_].fator_conversao*irradiacao_temp_amb_temp_agua[i].mesI[n].valorPerc:0==a&&""!=a&&""!=o&&0==o&&1==e&&$("#aquecimentoConsumosMeses"+n).val()*tecnologia_atual_aquecimento[_].fator_conversao<0?cenario_inicial_aquecimento_array[n]=0:cenario_inicial_aquecimento_array[n]=0==a&&""!=a&&""!=o&&0==o&&1==e?$("#aquecimentoConsumosMeses"+n).val()*tecnologia_atual_aquecimento[_].fator_conversao:consumo_aq_meses[n]:cenario_inicial_aquecimento_array[n]=r*tecnologia_atual_aquecimento[_].fator_conversao*irradiacao_temp_amb_temp_agua[i].mesI[n].valorPerc:cenario_inicial_aquecimento_array[n]=$("#aquecimentoConsumosMeses"+n).val()*tecnologia_atual_aquecimento[_].fator_conversao:cenario_inicial_aquecimento_array[n]=""!=o&&0==o&&1==e?$("#aquecimentoConsumosMeses"+n).val()*tecnologia_atual_aquecimento[_].fator_conversao:""!=o&&0==o&&""!=e&&0==e?0:consumo_aq_meses[n],cenario_inicial_aquecimento_total+=cenario_inicial_aquecimento_array[n]}function cenarioInicialConsumosArrefecimento(){var a=$("#consumo-quest-arr").val(),o=$("#arrefecimento-consumo").val(),e=$("input[name='arrefecimentoConsumoAnualTotal']").val(),r=$("#distrito").val();cenario_inicial_arrefecimento_array=[],cenario_inicial_arr_total=0;for(var _=0;_<meses_numero_horas.length;_++)cenario_inicial_arrefecimento_array[_]=_>=0&&_<5||_>=9&&_<12?""!=a&&0==a&&1==o?new Number($("#arrefecimentoConsumosMeses"+_).val()):""!=a&&0==a&&""!=o&&0==o?0:consumo_arr_meses[_]:""!=a&&0==a&&1==o?new Number($("#arrefecimentoConsumosMeses"+_).val()):""!=a&&0==a&&""!=o&&0==o?e*irradiacao_temp_amb_temp_agua[r].mesI[_].valorPerc:consumo_arr_meses[_],cenario_inicial_arr_total+=cenario_inicial_arrefecimento_array[_]}function cenarioInicialConsumosAqs(){var a=$("#cons-aqs").val(),o=$("#aqs-consumo").val(),e=$("input[name='aqsConsumoAnualTotal']").val(),r=$("#fonte-aq").val(),_=$("#rendimento").val(),i=$("#idade").val(),n=new Number($("#iRendMan").val());""!=_&&0==_?n=tecnologia_atual_aquecimento[r].rendimento[i].valor:2==_&&r>=0&&r<4?n/=100:n=6==r?tecnologia_atual_aquecimento[r].rendimento[0].valor:n,cenario_inicial_aqs_array=[],cenario_inicial_aqs_total=0;for(var s=0;s<meses_numero_horas.length;s++)cenario_inicial_aqs_array[s]=1==a?necessidades_array[s]/n:1==o?$("#aqsConsumosMeses"+s).val()*tecnologia_atual_aquecimento[r].fator_conversao:""!=o&&0==o?e*meses_numero_horas[s].aqs_mensal*tecnologia_atual_aquecimento[r].fator_conversao:0,cenario_inicial_aqs_total+=cenario_inicial_aqs_array[s]}function cenarioInicialConsumosTotais(){cenario_inicial_consumos_total_global=0,cenario_inicial_consumos_aq_perc=0,cenario_inicial_consumos_arr_perc=0,cenario_inicial_consumos_aqs_perc=0,cenario_inicial_consumos_total_global=cenario_inicial_aquecimento_total+cenario_inicial_arr_total+cenario_inicial_aqs_total,cenario_inicial_consumos_aq_perc=cenario_inicial_aquecimento_total/cenario_inicial_consumos_total_global,cenario_inicial_consumos_arr_perc=cenario_inicial_arr_total/cenario_inicial_consumos_total_global,cenario_inicial_consumos_aqs_perc=cenario_inicial_aqs_total/cenario_inicial_consumos_total_global}function cenarioInicialCustosAquecimento(){var a=$("#custo-en-unit-aq").val(),o=$("#fonte-aq").val();cenario_inicial_custos_aq_array=[],cenario_inicial_custos_aq_total=0;for(var e=0;e<meses_numero_horas.length;e++)cenario_inicial_custos_aq_array[e]=cenario_inicial_aquecimento_array[e]*a/tecnologia_atual_aquecimento[o].fator_conversao,cenario_inicial_custos_aq_total+=cenario_inicial_custos_aq_array[e]}function cenarioInicialCustosArrefecimento(){var a=$("#custo-en-unit-ar").val();cenario_inicial_custos_arr_array=[],cenario_inicial_custos_arr_total=0;for(var o=0;o<meses_numero_horas.length;o++)cenario_inicial_custos_arr_array[o]=cenario_inicial_arrefecimento_array[o]*a,cenario_inicial_custos_arr_total+=cenario_inicial_custos_arr_array[o]}function cenarioInicialCustosAqs(){var a=$("#custo-en-unit-aq").val(),o=$("#fonte-aq").val();cenario_inicial_custos_aqs_array=[],cenario_inicial_custos_aqs_total=0;for(var e=0;e<meses_numero_horas.length;e++)cenario_inicial_custos_aqs_array[e]=cenario_inicial_aqs_array[e]*a/tecnologia_atual_aquecimento[o].fator_conversao,cenario_inicial_custos_aqs_total+=cenario_inicial_custos_aqs_array[e]}function cenarioInicialCustosTotais(){cenario_inicial_custos_total_global=0,cenario_inicial_custos_aq_perc=0,cenario_inicial_custos_arr_perc=0,cenario_inicial_custos_aqs_perc=0,cenario_inicial_custos_total_global=cenario_inicial_custos_aq_total+cenario_inicial_custos_arr_total+cenario_inicial_custos_aqs_total,cenario_inicial_custos_aq_perc=cenario_inicial_custos_aq_total/cenario_inicial_consumos_total_global,cenario_inicial_custos_arr_perc=cenario_inicial_custos_arr_total/cenario_inicial_consumos_total_global,cenario_inicial_custos_aqs_perc=cenario_inicial_custos_aqs_total/cenario_inicial_consumos_total_global}function cenarioFinalConsumosAquecimento(){var a=$("#new-fonte-aq").val(),o=$("#idade").val(),e=$("#rendimento").val(),r=new Number($("#iRendMan").val()),_=new Number($("#rend-med").val()),i=$("#fonte-aq").val();cenario_final_aquecimento_array=[],cenario_final_aquecimento_total=0,3!=a&&4!=a&&(_/=100),""!=e&&0==e?r=tecnologia_atual_aquecimento[i].rendimento[o].valor:""!=i&&i>=0&&i<4&&2==e?r/=100:r=6==i?tecnologia_atual_aquecimento[i].rendimento[0].valor:r;for(var n=0;n<meses_numero_horas.length;n++)cenario_final_aquecimento_array[n]=new Number(cenario_inicial_aquecimento_array[n]*r/_),cenario_final_aquecimento_total+=cenario_final_aquecimento_array[n]}function cenarioFinalConsumosArrefecimento(){var a=$("#age-eer").val(),o=$("#eer").val(),e=new Number($("#iEERMan").val()),r=new Number($("#eer-med-ar").val()),_=$("#fonte-ar").val();cenario_final_arr_array=[],cenario_final_arr_total=0,e=""!=o&&0==o?tecnologia_atual_arrefecimento[_].rendimento[a].valor:e;for(var i=0;i<meses_numero_horas.length;i++)cenario_final_arr_array[i]=new Number(cenario_inicial_arrefecimento_array[i]*e/r),cenario_final_arr_total+=cenario_final_arr_array[i]}function cenarioFinalConsumosAqs(){var a=$("#simulacao-aqs").val(),o=$("#aqs-consumo").val(),e=$("input[name='aqsConsumoAnualTotal']").val(),r=$("#fonte-aq").val(),_=new Number($("#rend-med").val()),i=$("#idade").val(),n=$("#new-fonte-aq").val(),s=$("#pres-aqs").val(),l=$("#rendimento").val(),t=new Number($("#iRendMan").val());""!=l&&0==l?t=tecnologia_atual_aquecimento[r].rendimento[i].valor:""!=r&&r>=0&&r<4&&2==l?t/=100:t=6==r?tecnologia_atual_aquecimento[r].rendimento[0].valor:t,3!=n&&4!=n&&(_/=100),cenario_final_aqs_array=[],cenario_final_aqs_total=0;for(var c=0;c<meses_numero_horas.length;c++)cenario_final_aqs_array[c]=1==a&&1==o?$("#aqsConsumosMeses"+c).val()*tecnologia_atual_aquecimento[r].fator_conversao/_:1==a&&""!=o&&0==o?e*meses_numero_horas[c].aqs_mensal*tecnologia_atual_aquecimento[r].fator_conversao/_:0==a&&""!=a||1==a&&""!=s&&0==s?energia_solar_sa_array[c]:0,cenario_final_aqs_total+=cenario_final_aqs_array[c]}function cenarioFinalConsumosTotais(){var a;a=cenario_final_aquecimento_total+0+cenario_final_aqs_total,cenario_final_aquecimento_total,cenario_final_arr_total,cenario_final_aqs_total}function cenarioFinalCustosAquecimento(){var a=$("#custo-unit-med-aq").val();cenario_final_custos_aquecimento_array=[],cenario_final_custos_aquecimento_total=0;for(var o=0;o<meses_numero_horas.length;o++)cenario_final_custos_aquecimento_array[o]=cenario_final_aquecimento_array[o]*a/tecnologia_futura_aquecimento[$("#new-fonte-aq").val()].fator_conversao,cenario_final_custos_aquecimento_total+=cenario_final_custos_aquecimento_array[o]}function cenarioFinalCustosArrefecimento(){var a=$("#custo-unit-med-ar").val();cenario_final_custos_arrefecimento_array=[],cenario_final_custos_arrefecimento_total=0;for(var o=0;o<meses_numero_horas.length;o++)cenario_final_custos_arrefecimento_array[o]=cenario_final_arr_array[o]*a,cenario_final_custos_arrefecimento_total+=cenario_final_custos_arrefecimento_array[o]}function cenarioFinalCustosAqs(){var a=$("#custo-unit-med-aq").val();cenario_final_custos_aqs_array=[],cenario_final_custos_aqs_total=0;for(var o=0;o<meses_numero_horas.length;o++)cenario_final_custos_aqs_array[o]=cenario_final_aqs_array[o]*a/tecnologia_futura_aquecimento[$("#new-fonte-aq").val()].fator_conversao,cenario_final_custos_aqs_total+=cenario_final_custos_aqs_array[o]}function cenarioFinalCustosTotais(){cenario_final_custos_total_global=cenario_final_custos_aquecimento_total+cenario_final_custos_arrefecimento_total+cenario_final_custos_aqs_total,cenario_final_custos_aq_perc=cenario_final_custos_aquecimento_total/cenario_final_custos_total_global,cenario_final_custos_arr_perc=cenario_final_custos_arrefecimento_total/cenario_final_custos_total_global,cenario_final_custos_aqs_perc=cenario_final_custos_aqs_total/cenario_final_custos_total_global}function cenarioFinalReducaoArrefecimento(){cenario_final_reducao_arr_array=[],cenario_final_reducao_arr_total=0,cenario_final_reducao_arr_array_perc=[],cenario_final_reducao_arr_total_perc=0;for(var a=0;a<meses_numero_horas.length;a++)cenario_final_reducao_arr_array[a]=cenario_inicial_arr_array[a]-cenario_final_arr_array[a],cenario_final_reducao_arr_total+=cenario_final_reducao_arr_array[a],cenario_final_reducao_arr_array_perc[a]=cenario_inicial_custos_arr_array[a]-cenario_final_custos_arrefecimento_array[a],cenario_final_reducao_arr_total_perc+=cenario_final_reducao_arr_array_perc[a]}function cenarioFinalReducaoAquecimento(){cenario_final_reducao_aquecimento_array=[],cenario_final_reducao_aquecimento_total=0,cenario_final_reducao_aquecimento_array_perc=[],cenario_final_reducao_aquecimento_total_perc=0;for(var a=0;a<meses_numero_horas.length;a++)cenario_final_reducao_aquecimento_array[a]=cenario_inicial_aquecimento_array[a]-cenario_final_aquecimento_array[a],cenario_final_reducao_aquecimento_total+=cenario_final_reducao_aquecimento_array[a],cenario_final_reducao_aquecimento_array_perc[a]=cenario_inicial_custos_aq_array[a]-cenario_final_custos_aquecimento_array[a],cenario_final_reducao_aquecimento_total_perc+=cenario_final_reducao_aquecimento_array_perc[a]}function cenarioFinalReducaoAqs(){cenario_final_reducao_aqs_array=[],cenario_final_reducao_aqs_total=0,cenario_final_reducao_aqs_array_perc=[],cenario_final_reducao_aqs_total_perc=0;for(var a=0;a<meses_numero_horas.length;a++)cenario_final_reducao_aqs_array[a]=cenario_inicial_aqs_array[a]-cenario_final_aqs_array[a],cenario_final_reducao_aqs_total+=cenario_final_reducao_aqs_array[a],cenario_final_reducao_aqs_array_perc[a]=cenario_inicial_custos_aqs_array[a]-cenario_final_custos_aqs_array[a],cenario_final_reducao_aqs_total_perc+=cenario_final_reducao_aqs_array_perc[a]}function cenarioFinalReducaoTotais(){var a=$("#use-aqs").val();cenario_final_reducao_total_global=0,cenario_final_reducao_aq_perc=0,cenario_final_reducao_arr_perc=0,cenario_final_reducao_aqs_perc=0,cenario_final_reducao_total_global=0==a?(cenario_final_reducao_aquecimento_total_perc+cenario_final_reducao_arr_total_perc+cenario_final_reducao_aqs_total_perc)/cenario_inicial_custos_total_global:(cenario_final_reducao_aquecimento_total_perc+cenario_final_reducao_arr_total_perc)/cenario_inicial_custos_total_global,cenario_final_reducao_aq_perc=cenario_final_reducao_aquecimento_total_perc/cenario_inicial_custos_aq_total,cenario_final_reducao_arr_perc=cenario_final_reducao_arr_total_perc/cenario_inicial_custos_arr_total,cenario_final_reducao_aqs_perc=cenario_final_reducao_aqs_total_perc/cenario_inicial_custos_aqs_total}function resumoAquecimento(){var a=$("#fonte-aq").val(),o=$("#rendimento").val(),e=$("#iRendMan").val(),r=$("#idade").val(),_=$("#new-fonte-aq").val(),i=$("#potencia-aq").val(),n=$("#pot-med-aq").val(),s=$("#rend-med").val(),l=($("#use-arr").val(),$("#area-dados-input").val());resumo_equipamento_inicial="",resumo_equipamento_final="",resumo_potencia_inicial=0,resumo_potencia_final=0,resumo_rendimento_inicial=0,resumo_rendimento_final=0,resumo_fonte_energia_inicial=0,resumo_fonte_energia_final=0,resumo_consumo_anual_inicial=0,resumo_consumo_anual_final=0,resumo_custo_anual_inicial=0,resumo_custo_anual_final=0,resumo_reducao_consumo=0,resumo_reducao_custos_valor=0,resumo_reducao_custos_perc=0,resumo_custo_unit_inicial=0,resumo_custo_unit_final=0,resumo_investimento_estimado=0,resumo_pri_simples=0,resumo_equipamento_inicial=tecnologia_atual_aquecimento[a].nome,resumo_equipamento_final=tecnologia_futura_aquecimento[_].nome;var t=tecnologia_atual_aquecimento[a].id,c=tecnologia_futura_aquecimento[_].id;resumo_potencia_inicial=i,resumo_potencia_final=n,
resumo_rendimento_inicial=""!=o&&0==o?100*tecnologia_atual_aquecimento[a].rendimento[r].valor:a>=0&&a<4?e:6==a?100*tecnologia_atual_aquecimento[a].rendimento[0].valor:100*e,resumo_rendimento_final=3==_||4==_?100*s:s,resumo_fonte_energia_inicial=tecnologia_atual_aquecimento[t].fonte_energia,resumo_fonte_energia_final=tecnologia_futura_aquecimento[c].fonte_energia,resumo_consumo_anual_inicial=new Number(cenario_inicial_aquecimento_total.toFixed(0)),resumo_consumo_anual_final=new Number(cenario_final_aquecimento_total.toFixed(0)),resumo_custo_anual_inicial=new Number(cenario_inicial_custos_aq_total.toFixed(0)),resumo_custo_anual_final=new Number(cenario_final_custos_aquecimento_total.toFixed(0)),resumo_reducao_consumo=new Number((resumo_consumo_anual_inicial-resumo_consumo_anual_final).toFixed(0)),resumo_reducao_custos_valor=new Number((resumo_custo_anual_inicial-resumo_custo_anual_final).toFixed(0)),resumo_reducao_custos_perc=new Number((resumo_reducao_custos_valor/resumo_custo_anual_inicial*100).toFixed(0)),resumo_custo_unit_inicial=new Number((resumo_custo_anual_inicial/resumo_consumo_anual_inicial).toFixed(2)),resumo_custo_unit_final=new Number((resumo_custo_anual_final/resumo_consumo_anual_final).toFixed(2)),resumo_investimento_estimado=new Number((l*tecnologia_futura_aquecimento[_].potencia*tecnologia_futura_aquecimento[_].investimento).toFixed(0)),resumo_pri_simples=new Number(resumo_investimento_estimado/resumo_reducao_custos_valor)}function resumoArrefecimento(){var a=$("#fonte-ar").val(),o=$("#age-eer").val(),e=$("#new-fonte-ar").val(),r=$("#potencia-ar").val(),_=$("#pot-med-ar").val(),i=$("#eer-med-ar").val(),n=$("#area-dados-input").val(),s=$("#eer").val(),l=$("#iEERMan").val();n=$("#area-dados-input").val();resumo_equipamento_inicial_arr="",resumo_equipamento_final_arr="",resumo_potencia_inicial_arr=0,resumo_potencia_final_arr=0,resumo_rendimento_inicial_arr=0,resumo_rendimento_final_arr=0,resumo_fonte_energia_inicial_arr=0,resumo_fonte_energia_final_arr=0,resumo_consumo_anual_inicial_arr=0,resumo_consumo_anual_final_arr=0,resumo_custo_anual_inicial_arr=0,resumo_custo_anual_final_arr=0,resumo_reducao_consumo_arr=0,resumo_reducao_custos_valor_arr=0,resumo_reducao_custos_perc_arr=0,resumo_custo_unit_inicial_arr=0,resumo_custo_unit_final_arr=0,resumo_investimento_estimado_arr=0,resumo_pri_simples_arr=0,resumo_equipamento_inicial_arr=tecnologia_atual_arrefecimento[a].nome,resumo_equipamento_final_arr=tecnologia_futura_arrefecimento[e].nome;var t=tecnologia_atual_arrefecimento[a].id,c=tecnologia_futura_arrefecimento[e].id;resumo_potencia_inicial_arr=r,resumo_potencia_final_arr=_,resumo_rendimento_inicial_arr=""!=s&&0==s?100*tecnologia_atual_arrefecimento[a].rendimento[o].valor:new Number((100*l).toFixed(0)),resumo_rendimento_final_arr=100*i,resumo_fonte_energia_inicial_arr=tecnologia_atual_arrefecimento[t].fonte_energia,resumo_fonte_energia_final_arr=tecnologia_futura_arrefecimento[c].fonte_energia,resumo_consumo_anual_inicial_arr=new Number(cenario_inicial_arr_total.toFixed(0)),resumo_consumo_anual_final_arr=new Number(cenario_final_arr_total.toFixed(0)),resumo_custo_anual_inicial_arr=new Number(cenario_inicial_custos_arr_total.toFixed(0)),resumo_custo_anual_final_arr=new Number(cenario_final_custos_arrefecimento_total.toFixed(0)),resumo_reducao_consumo_arr=new Number((resumo_consumo_anual_inicial_arr-resumo_consumo_anual_final_arr).toFixed(0)),resumo_reducao_custos_valor_arr=new Number((resumo_custo_anual_inicial_arr-resumo_custo_anual_final_arr).toFixed(0)),resumo_reducao_custos_perc_arr=new Number((resumo_reducao_custos_valor_arr/resumo_custo_anual_inicial_arr*100).toFixed(0)),resumo_custo_unit_inicial_arr=new Number((resumo_custo_anual_inicial_arr/resumo_consumo_anual_inicial_arr).toFixed(2)),resumo_custo_unit_final_arr=new Number((resumo_custo_anual_final_arr/resumo_consumo_anual_final_arr).toFixed(2)),resumo_investimento_estimado_arr=new Number((n*tecnologia_futura_arrefecimento[e].potencia*tecnologia_futura_arrefecimento[e].investimento).toFixed(0)),resumo_pri_simples_arr=new Number(resumo_investimento_estimado_arr/resumo_reducao_custos_valor_arr)}function resumoAqs(){var a=$("#use-aqs").val();if(resumo_consumo_anual_inicial_aqs=0,resumo_consumo_anual_final_aqs=0,resumo_custo_anual_inicial_aqs=0,resumo_custo_anual_final_aqs=0,resumo_reducao_consumo_aqs=0,resumo_reducao_custos_valor_aqs=0,resumo_reducao_custos_perc_aqs=0,resumo_custo_unit_inicial_aqs=0,resumo_custo_unit_final_aqs=0,resumo_investimento_estimado_aqs=0,resumo_pri_simples_aqs=0,0==a&&""!=a){resumo_consumo_anual_inicial_aqs=new Number(cenario_inicial_aqs_total.toFixed(0)),resumo_consumo_anual_final_aqs=new Number(cenario_final_aqs_total.toFixed(0)),resumo_custo_anual_inicial_aqs=new Number(cenario_inicial_custos_aqs_total.toFixed(0)),resumo_custo_anual_final_aqs=new Number(cenario_final_custos_aqs_total.toFixed(0)),resumo_reducao_consumo_aqs=new Number((resumo_consumo_anual_inicial_aqs-resumo_consumo_anual_final_aqs).toFixed(0)),resumo_reducao_custos_valor_aqs=new Number((resumo_custo_anual_inicial_aqs-resumo_custo_anual_final_aqs).toFixed(0)),resumo_reducao_custos_perc_aqs=new Number((resumo_reducao_custos_valor_aqs/resumo_custo_anual_inicial_aqs*100).toFixed(0)),resumo_custo_unit_inicial_aqs=new Number((resumo_custo_anual_inicial_aqs/resumo_consumo_anual_inicial_aqs).toFixed(2)),resumo_custo_unit_final_aqs=new Number((resumo_custo_anual_final_aqs/resumo_consumo_anual_final_aqs).toFixed(2));var o=0,e=0;o=total_area<investimento[0].info[0].max?investimento[0].info[0].valor*total_area:total_area>=investimento[0].info[2].max?investimento[0].info[2].valor*total_area:investimento[0].info[1].valor*total_area,e=total_vol_acumulacao<investimento[1].info[0].max?investimento[1].info[0].valor*total_vol_acumulacao:total_vol_acumulacao>investimento[1].info[2].min?investimento[1].info[2].valor*total_vol_acumulacao:investimento[1].info[1].valor*total_vol_acumulacao,resumo_investimento_estimado_aqs=o+e*(1+investimento[2].valor_direto),resumo_pri_simples_aqs=new Number(resumo_investimento_estimado_aqs/resumo_reducao_custos_valor_aqs),$(".aqs").show()}else resumo_pri_simples_aqs=0,resumo_investimento_estimado_aqs=0,$(".aqs").hide()}function resumoGlobals(){var a=first_total,o=$("#escolhe").val(),e=$("#use-aqs").val(),r=$("#simulacao-aqs").val();return consumo_anual_total_global_inicial=0,consumo_anual_total_global_final=0,consumo_anual_clima_global_inicial=0,consumo_anual_clima_global_final=0,perc_relativa_total_global_inicial=0,perc_relativa_total_global_final=0,custos_anuais_global_inicial=0,custos_anuais_global_final=0,reducao_consumo_global=0,reducao_custo_global_valor=0,reducao_custo_global_perc=0,custo_unit_global_inicial=0,custo_unit_global_final=0,investimento_estimado_global=0,pri_simples_global=0,consumo_anual_total_global_inicial=new Number(a),1==o?(consumo_anual_clima_global_inicial=new Number(resumo_consumo_anual_inicial_arr.toFixed(0)),consumo_anual_clima_global_final=new Number(resumo_consumo_anual_final_arr.toFixed(0))):0!=o||""!=e&&1!=e?0==o&&""!=e&&0==e&&""!=r&&0==r?(consumo_anual_clima_global_inicial=new Number((resumo_consumo_anual_inicial+resumo_consumo_anual_inicial_aqs).toFixed(0)),consumo_anual_clima_global_final=new Number((resumo_consumo_anual_final+resumo_consumo_anual_final_aqs).toFixed(0))):2!=o||""!=e&&1!=e?(consumo_anual_clima_global_inicial=new Number((resumo_consumo_anual_inicial+resumo_consumo_anual_inicial_aqs+resumo_consumo_anual_inicial_arr).toFixed(0)),consumo_anual_clima_global_final=new Number((resumo_consumo_anual_final+resumo_consumo_anual_final_aqs+resumo_consumo_anual_final_arr).toFixed(0))):(consumo_anual_clima_global_inicial=new Number((resumo_consumo_anual_inicial+resumo_consumo_anual_inicial_arr).toFixed(0)),consumo_anual_clima_global_final=new Number((resumo_consumo_anual_final+resumo_consumo_anual_final_arr).toFixed(0))):(consumo_anual_clima_global_inicial=new Number(resumo_consumo_anual_inicial.toFixed(0)),consumo_anual_clima_global_final=new Number(resumo_consumo_anual_final.toFixed(0))),1==o?(custos_anuais_global_inicial=new Number(resumo_custo_anual_inicial_arr.toFixed(0)),custos_anuais_global_final=new Number(resumo_custo_anual_final_arr.toFixed(0)),reducao_consumo_global=new Number(resumo_reducao_consumo_arr.toFixed(0)),reducao_custo_global_valor=new Number(resumo_reducao_custos_valor_arr.toFixed(0))):0!=o||""!=e&&1!=e?0==o&&""!=e&&0==e&&""!=r&&0==r?(custos_anuais_global_inicial=new Number((resumo_custo_anual_inicial+resumo_custo_anual_inicial_aqs).toFixed(0)),custos_anuais_global_final=new Number((resumo_custo_anual_final+resumo_custo_anual_final_aqs).toFixed(0)),reducao_consumo_global=new Number((resumo_reducao_consumo+resumo_reducao_consumo_aqs).toFixed(0)),reducao_custo_global_valor=new Number((resumo_reducao_custos_valor+resumo_reducao_custos_valor_aqs).toFixed(0))):2!=o||""!=e&&1!=e?(custos_anuais_global_inicial=new Number((resumo_custo_anual_inicial+resumo_custo_anual_inicial_arr+resumo_custo_anual_inicial_aqs).toFixed(0)),custos_anuais_global_final=new Number((resumo_custo_anual_final+resumo_custo_anual_final_arr+resumo_custo_anual_final_aqs).toFixed(0)),reducao_consumo_global=new Number((resumo_reducao_consumo+resumo_reducao_consumo_arr+resumo_reducao_consumo_aqs).toFixed(0)),reducao_custo_global_valor=new Number((resumo_reducao_custos_valor+resumo_reducao_custos_valor_arr+resumo_reducao_custos_valor_aqs).toFixed(0))):(custos_anuais_global_inicial=new Number((resumo_custo_anual_inicial+resumo_custo_anual_inicial_arr).toFixed(0)),custos_anuais_global_final=new Number((resumo_custo_anual_final+resumo_custo_anual_final_arr).toFixed(0)),reducao_consumo_global=new Number((resumo_reducao_consumo+resumo_reducao_consumo_arr).toFixed(0)),reducao_custo_global_valor=new Number((resumo_reducao_custos_valor+resumo_reducao_custos_valor_arr).toFixed(0))):(custos_anuais_global_inicial=new Number(resumo_custo_anual_inicial.toFixed(0)),custos_anuais_global_final=new Number(resumo_custo_anual_final.toFixed(0)),reducao_consumo_global=new Number(resumo_reducao_consumo.toFixed(0)),reducao_custo_global_valor=new Number(resumo_reducao_custos_valor.toFixed(0))),reducao_custo_global_perc=new Number((reducao_custo_global_valor/custos_anuais_global_inicial*100).toFixed(0)),reducao_custo_global_valor<0?($("#errorAQUEC").html("A implementação da medida selecionada resultará num aumento da fatura energética face à situação atual."),$("#errorAQUEC").show()):0==reducao_custo_global_valor?($("#errorAQUEC").html("A implementação da medida selecionada não terá qualquer alteração na fatura energética atual."),$("#errorAQUEC").show()):($("#errorAQUEC").html(""),$("#errorAQUEC").hide()),custo_unit_global_inicial=new Number((custos_anuais_global_inicial/consumo_anual_clima_global_inicial).toFixed(2)),custo_unit_global_final=new Number((custos_anuais_global_final/consumo_anual_clima_global_final).toFixed(2)),consumo_anual_total_global_final=new Number((a-reducao_consumo_global).toFixed(0)),perc_relativa_total_global_inicial=new Number((consumo_anual_clima_global_inicial/consumo_anual_total_global_inicial*100).toFixed(0)),perc_relativa_total_global_final=new Number((consumo_anual_clima_global_final/consumo_anual_total_global_final*100).toFixed(0)),consumo_anual_total_global_inicial>0?perc_relativa_total_global_inicial>70&&0==e&&""!=e&&a>0?($("#errorRACIO").html("O consumo de energia para climatização e AQS representa mais de 70% do consumo global de energia do edifício. Poderá ser conveniente rever os dados inseridos."),$("#errorRACIO").show()):perc_relativa_total_global_inicial>70&&a>0?($("#errorRACIO").html("O consumo de energia para climatização representa mais de 70% do consumo global de energia do edifício. Poderá ser conveniente rever os dados inseridos."),$("#errorRACIO").show()):($("#errorRACIO").html(""),$("#errorRACIO").hide()):perc_relativa_total_global_final=0,0==r&&""!=r&&total_n_coletores<avisos[5].valor?(alert(avisos[5].mensagem),0):""!=$("#consumos-caixa1").val()&&$("#consumos-caixa1").val()>=0&&perc_relativa_total_global_inicial>avisos[4].valor?(alert(avisos[4].mensagem),0):(a>0?$(".aviso").show():$(".aviso").hide(),investimento_estimado_global=1==o?resumo_investimento_estimado_arr:0!=o||""!=e&&1!=e?0==o&&""!=e&&0==e&&""!=r&&0==r?new Number((resumo_investimento_estimado+resumo_investimento_estimado_aqs).toFixed(0)):2!=o||""!=e&&1!=e?new Number((resumo_investimento_estimado+resumo_investimento_estimado_aqs+resumo_investimento_estimado_arr).toFixed(0)):resumo_investimento_estimado_arr+resumo_investimento_estimado:new Number(resumo_investimento_estimado.toFixed(0)),pri_simples_global=new Number(investimento_estimado_global/reducao_custo_global_valor),1)}function showResumo(){$("#equipamento-aqu-inicial").html(resumo_equipamento_inicial),$("#equipamento-aqu-final").html(resumo_equipamento_final),$("#equipamento-arr-inicial").html(resumo_equipamento_inicial_arr),$("#equipamento-arr-final").html(resumo_equipamento_final_arr),$("#potencia-aqu-inicial").html(resumo_potencia_inicial+" kW"),$("#potencia-aqu-final").html(resumo_potencia_final+" kW"),$("#potencia-arr-inicial").html(resumo_potencia_inicial_arr+" kW"),$("#potencia-arr-final").html(resumo_potencia_final_arr+" kW"),$("#rendimento-aqu-inicial").html(resumo_rendimento_inicial+"%"),$("#rendimento-aqu-final").html(resumo_rendimento_final+"%"),$("#rendimento-arr-inicial").html(resumo_rendimento_inicial_arr+"%"),$("#rendimento-arr-final").html(resumo_rendimento_final_arr+"%"),$("#fonte-energia-aqu-inicial").html(resumo_fonte_energia_inicial),$("#fonte-energia-aqu-final").html(resumo_fonte_energia_final),$("#fonte-energia-arr-inicial").html(resumo_fonte_energia_inicial_arr),$("#fonte-energia-arr-final").html(resumo_fonte_energia_final_arr),$("#cons-anual-aqu-inicial").html(resumo_consumo_anual_inicial+" kWh"),$("#cons-anual-aqu-final").html(resumo_consumo_anual_final+" kWh"),$("#cons-anual-arr-inicial").html(resumo_consumo_anual_inicial_arr+" kWh"),$("#cons-anual-arr-final").html(resumo_consumo_anual_final_arr+" kWh"),$("#cons-anual-aqs-inicial").html(resumo_consumo_anual_inicial_aqs+" kWh"),$("#cons-anual-aqs-final").html(resumo_consumo_anual_final_aqs+" kWh"),$("#custo-anual-aqu-inicial").html(resumo_custo_anual_inicial+" €"),$("#custo-anual-aqu-final").html(resumo_custo_anual_final+" €"),$("#custo-anual-arr-inicial").html(resumo_custo_anual_inicial_arr+" €"),$("#custo-anual-arr-final").html(resumo_custo_anual_final_arr+" €"),$("#custo-anual-aqs-inicial").html(resumo_custo_anual_inicial_aqs+" €"),$("#custo-anual-aqs-final").html(resumo_custo_anual_final_aqs+" €"),$("#reducao-cons-aqu").html(resumo_reducao_consumo+" kWh"),$("#reducao-cons-arr").html(resumo_reducao_consumo_arr+" kWh"),$("#reducao-cons-aqs").html(resumo_reducao_consumo_aqs+" kWh"),$("#reducao-custo-aqu").html(resumo_reducao_custos_valor+" €"),$("#reducao-custo-arr").html(resumo_reducao_custos_valor_arr+" €"),$("#reducao-custo-aqs").html(resumo_reducao_custos_valor_aqs+" €"),$("#reducao-custo-aqu-perc").html(resumo_reducao_custos_perc+"%"),$("#reducao-custo-arr-perc").html(resumo_reducao_custos_perc_arr+"%"),$("#reducao-custo-aqs-perc").html(resumo_reducao_custos_perc_aqs+"%"),$("#custo-unit-aqu-inicial").html(resumo_custo_unit_inicial+" €/kWh"),$("#custo-unit-aqu-final").html(resumo_custo_unit_final+" €/kWh"),$("#custo-unit-arr-inicial").html(resumo_custo_unit_inicial_arr+" €/kWh"),$("#custo-unit-arr-final").html(resumo_custo_unit_final_arr+" €/kWh"),$("#custo-unit-aqs-inicial").html(resumo_custo_unit_inicial_aqs+" €/kWh"),$("#custo-unit-aqs-final").html(resumo_custo_unit_final_aqs+" €/kWh"),$("#investimento-aqu").html(resumo_investimento_estimado+" €"),$("#investimento-arr").html(resumo_investimento_estimado_arr+" €"),$("#investimento-aqs").html(resumo_investimento_estimado_aqs+" €"),$("#pri-aqu").html((resumo_pri_simples<0?"-":resumo_pri_simples.toFixed(1))+" anos"),$("#pri-arr").html((resumo_pri_simples_arr<0?"-":resumo_pri_simples_arr.toFixed(1))+" anos"),$("#pri-aqs").html((resumo_pri_simples_aqs<0?"-":resumo_pri_simples_aqs.toFixed(1))+" anos")}function showGlobalResumo(){var a=$("#escolhe").val(),o=$("#pres-aqs").val();$("#consumo-anual-total-inicial-global").html(consumo_anual_total_global_inicial+" kWh"),$("#consumo-anual-total-final-global").html(consumo_anual_total_global_final+" kWh"),""!=o&&0==o?$("#consumoAnual").html("Consumo anual de energia para aquecimento e AQS"):1==a?$("#consumoAnual").html("Consumo anual de energia para arrefecimento"):$("#consumoAnual").html("Consumo anual de energia para aquecimento"),$("#consumo-anual-clima-inicial-global").html(consumo_anual_clima_global_inicial+" kWh"),$("#consumo-anual-clima-final-global").html(consumo_anual_clima_global_final+" kWh"),""!=o&&0==o?$("#racioGlobal").html("Rácio do consumo de energia para aquecimento e AQS relativamente ao consumo total de energia do edifício"):1==a?$("#racioGlobal").html("Rácio do consumo de energia para arrefecimento relativamente ao consumo total de energia do edifício"):$("#racioGlobal").html("Rácio do consumo de energia para aquecimento relativamente ao consumo total de energia do edifício"),$("#perc-total-inicial-global").html(perc_relativa_total_global_inicial+"%"),$("#perc-total-final-global").html(perc_relativa_total_global_final+"%"),$("#custo-anual-inicial-global").html(custos_anuais_global_inicial+" €"),$("#custo-anual-final-global").html(custos_anuais_global_final+" €"),$("#reducao-consumo-global").html(reducao_consumo_global+" kWh"),$("#reducao-custo-valor-global").html(reducao_custo_global_valor+" €"),$("#reducao-custo-perc-global").html(reducao_custo_global_perc+"%"),$("#custo-unit-inicial-global").html(custo_unit_global_inicial+" €/kWh"),$("#custo-unit-final-global").html(custo_unit_global_final+" €/kWh"),$("#investimento-global").html(investimento_estimado_global+" €"),$("#pri-global").html((pri_simples_global<0?"-":pri_simples_global.toFixed(1))+" anos"),chartData()}function chartData(){$(".chart_1 #custos_mensais_chart_v2").remove(),$(".chart_1 #aqs_solar_term_chart_v2").remove(),$(".chart_1").append('<canvas id="custos_mensais_chart_v2" width="400" height="400" responsive="true"></canvas>'),$(".chart_1").append('<canvas id="aqs_solar_term_chart_v2" width="400" height="400" responsive="true"></canvas>');var a=document.getElementById("custos_mensais_chart_v2").getContext("2d"),o=document.getElementById("aqs_solar_term_chart_v2").getContext("2d"),e=[],r=[],_=[],i=[],n=[],s=[],l=[],t=[],c=[],u=[];for(let a=0;a<cenario_inicial_custos_aq_array.length;a++)e[a]=cenario_inicial_custos_aq_array[a].toFixed(0);for(let a=0;a<cenario_final_custos_aquecimento_array.length;a++)r[a]=cenario_final_custos_aquecimento_array[a].toFixed(0);for(let a=0;a<cenario_inicial_custos_arr_array.length;a++)_[a]=cenario_inicial_custos_arr_array[a].toFixed(0);for(let a=0;a<cenario_final_custos_arrefecimento_array.length;a++)i[a]=cenario_final_custos_arrefecimento_array[a].toFixed(0);for(let a=0;a<cenario_inicial_custos_aqs_array.length;a++)n[a]=cenario_inicial_custos_aqs_array[a].toFixed(0);for(let a=0;a<cenario_final_custos_aqs_array.length;a++)s[a]=cenario_final_custos_aqs_array[a].toFixed(0);for(let a=0;a<energia_solar_utilizada_array.length;a++)l[a]=energia_solar_utilizada_array[a].toFixed(0);for(let a=0;a<energia_solar_sa_array.length;a++)t[a]=energia_solar_sa_array[a].toFixed(0);for(let a=0;a<energia_solar_mj_array.length;a++)c[a]=energia_solar_mj_array[a].toFixed(0);for(let a=0;a<necessidades_array.length;a++)u[a]=necessidades_array[a].toFixed(0);var m=0==$("#pres-aqs").val()&&0==$("#use-aqs").val();if(maxChart(cenario_inicial_custos_aq_array)>maxChart(cenario_final_custos_aquecimento_array)&&maxChart(cenario_inicial_custos_aq_array)>maxChart(cenario_inicial_custos_arr_array)&&maxChart(cenario_inicial_custos_aq_array)>maxChart(cenario_final_custos_arrefecimento_array)&&maxChart(cenario_inicial_custos_aq_array)>maxChart(cenario_inicial_custos_aqs_array)&&maxChart(cenario_inicial_custos_aq_array)>maxChart(cenario_final_custos_aqs_array))var d=maxChart(cenario_inicial_custos_aq_array);else if(maxChart(cenario_final_custos_aquecimento_array)>maxChart(cenario_inicial_custos_aq_array)&&maxChart(cenario_final_custos_aquecimento_array)>maxChart(cenario_inicial_custos_arr_array)&&maxChart(cenario_final_custos_aquecimento_array)>maxChart(cenario_final_custos_arrefecimento_array)&&maxChart(cenario_final_custos_aquecimento_array)>maxChart(cenario_inicial_custos_aqs_array)&&maxChart(cenario_final_custos_aquecimento_array)>maxChart(cenario_final_custos_aqs_array))d=maxChart(cenario_final_custos_aquecimento_array);else if(maxChart(cenario_inicial_custos_arr_array)>maxChart(cenario_inicial_custos_aq_array)&&maxChart(cenario_inicial_custos_arr_array)>maxChart(cenario_final_custos_aquecimento_array)&&maxChart(cenario_inicial_custos_arr_array)>maxChart(cenario_final_custos_arrefecimento_array)&&maxChart(cenario_inicial_custos_arr_array)>maxChart(cenario_inicial_custos_aqs_array)&&maxChart(cenario_inicial_custos_arr_array)>maxChart(cenario_final_custos_aqs_array))d=maxChart(cenario_inicial_custos_arr_array);else if(maxChart(cenario_final_custos_arrefecimento_array)>maxChart(cenario_inicial_custos_aq_array)&&maxChart(cenario_final_custos_arrefecimento_array)>maxChart(cenario_final_custos_aquecimento_array)&&maxChart(cenario_final_custos_arrefecimento_array)>maxChart(cenario_inicial_custos_arr_array)&&maxChart(cenario_final_custos_arrefecimento_array)>maxChart(cenario_inicial_custos_aqs_array)&&maxChart(cenario_final_custos_arrefecimento_array)>maxChart(cenario_final_custos_aqs_array))d=maxChart(cenario_final_custos_arrefecimento_array);else if(maxChart(cenario_inicial_custos_aqs_array)>maxChart(cenario_inicial_custos_aq_array)&&maxChart(cenario_inicial_custos_aqs_array)>maxChart(cenario_final_custos_aquecimento_array)&&maxChart(cenario_inicial_custos_aqs_array)>maxChart(cenario_inicial_custos_arr_array)&&maxChart(cenario_inicial_custos_aqs_array)>maxChart(cenario_final_custos_arrefecimento_array)&&maxChart(cenario_inicial_custos_aqs_array)>maxChart(cenario_final_custos_aqs_array))d=maxChart(cenario_inicial_custos_aqs_array);else d=maxChart(cenario_final_custos_aqs_array);if(maxChart(energia_solar_utilizada_array)>maxChart(energia_solar_sa_array)&&maxChart(energia_solar_utilizada_array)>maxChart(energia_solar_mj_array)&&maxChart(energia_solar_utilizada_array)>maxChart(necessidades_array))var v=maxChart(energia_solar_utilizada_array);else if(maxChart(energia_solar_sa_array)>maxChart(energia_solar_utilizada_array)&&maxChart(energia_solar_sa_array)>maxChart(energia_solar_mj_array)&&maxChart(energia_solar_sa_array)>maxChart(necessidades_array))v=maxChart(energia_solar_sa_array);else if(maxChart(energia_solar_mj_array)>maxChart(energia_solar_utilizada_array)&&maxChart(energia_solar_mj_array)>maxChart(energia_solar_sa_array)&&maxChart(energia_solar_mj_array)>maxChart(necessidades_array))v=maxChart(energia_solar_mj_array);else v=maxChart(necessidades_array);new Chart(a,{type:"bar",data:{labels:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],datasets:[{label:"Aquecimento (Inicial)",data:e,backgroundColor:"rgba(230, 103, 38, 1)",borderColor:"rgba(230, 103, 38, 1)",borderWidth:1},{label:"Aquecimento (Final)",data:r,backgroundColor:"rgba(239, 161, 112, 1)",borderColor:"rgba(239, 161, 112, 1)",borderWidth:1},{label:"Arrefecimento (Inicial)",data:_,backgroundColor:"rgba(74, 136, 203, 1)",borderColor:"rgba(74, 136, 203, 1)",borderWidth:1},{label:"Arrefecimento (Final)",data:i,backgroundColor:"rgba(140, 181, 223, 1)",borderColor:"rgba(140, 181, 223, 1)",borderWidth:1},{label:"AQS (Inicial)",data:n,backgroundColor:"rgba(253, 181, 9, 1)",borderColor:"rgba(253, 181, 9, 1)",borderWidth:1},{label:"AQS (Final)",data:s,backgroundColor:"rgba(254, 210, 84, 1)",borderColor:"rgba(254, 210, 84, 1)",borderWidth:1}]},options:{scales:{yAxes:[{ticks:{beginAtZero:!0,max:d,callback:function(a,o,e){return a.toFixed(0)+"€"}}}],xAxes:[{ticks:{autoSkip:!1,maxRotation:90,minRotation:90}}]},title:{display:!0,text:"Custos Mensais de Energia",fontSize:16,fontColor:"#0099cc"}}});if(m){$("#aqs-graph-title").show();new Chart(o,{type:"bar",data:{labels:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],datasets:[{label:"Energia Solar",data:l,backgroundColor:"rgba(95, 160, 55, 1)",borderColor:"rgba(95, 160, 55, 1)",borderWidth:1},{label:"Energia de apoio",data:t,backgroundColor:"rgba(230, 103, 38, 1)",borderColor:"rgba(230, 103, 38, 1)",borderWidth:1},{label:"Excedente",data:c,backgroundColor:"rgba(254, 204, 60, 1)",borderColor:"rgba(254, 204, 60, 1)",borderWidth:1},{label:"Necessidades",data:u,backgroundColor:"rgba(53, 91, 183, 0)",borderColor:"rgba(53, 91, 183, 1)",pointBackgroundColor:"rgba(0,0,0,0)",pointBorderColor:"rgba(0,0,0,0)",borderWidth:1,type:"line"}]},options:{scales:{yAxes:[{ticks:{beginAtZero:!0,max:v,callback:function(a,o,e){return a.toFixed(0)+" MJ"}}}],xAxes:[{ticks:{autoSkip:!1,maxRotation:90,minRotation:90},stacked:!0}]},title:{display:!0,text:"Balanço Energético - AQS - Solar Térmico (MJ)",fontSize:16,fontColor:"#0099cc"},legend:{labels:{useLineStyle:!0}}}})}else $("#aqs-graph-title").hide()}function maxChart(a){var o=0;if(a.length>0)for(var e=0;e<a.length;e++)(a[e]>o||0==o)&&(o=new Number(a[e]));return o+=.1*o}