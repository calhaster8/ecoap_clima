function dadosFirstTotal(){var a=$("input[name='valor-input-consumo[]']"),o=$("select[name='consumos-caixa[]']"),e=!1;if(o.length>0&&a.length>0&&o.length==a.length)for(first_total=0,i=0;i<o.length;i++)""!=a[i].value&&void 0!=a[i].value&&a[i].value>0&&""!=o[i].value&&void 0!=o[i].value&&o[i].value>=0&&(first_total+=a[i].value*fonteEnergeticaI[o[i].value].unidade[0].valor);else first_total=0;$("#total-titulo").val(first_total)}function areaCalc(){var a=$("#distrito").val(),o=$("#area-dados-input").val(),e=$("#cobertura").val(),_=$("#area-cobertura-input").val();paredes_area=0,envidracados_area=0,cobertura_area=0,paredes_area=o*envolvente,envidracados_area=o*envidracados_direto,cobertura_area=1==e?0:new Number(_),uCalc(),invernoCalc(),veraoCalc(),necessidadesAquecimento(),necessidadesAqs(),consumoInicialAquecimento(),necessidadesEnergeticas(),energiaSolarCaptadaM2(),energiaSolarCaptadaMJ(),energiaSolarUtilizada(),energiaSolarUtilizadaPerc(),energiaSA(),energiaSAPerc(),excedenteSolar(),excedenteSolarPerc(),racio(),nColetores(),areaNecessidade(),volumeAcumulacao(),correcaoOrientacao(),cenarioInicialConsumosAquecimento(),cenarioInicialConsumosAqs(),cenarioInicialConsumosArrefecimento(),cenarioInicialConsumosTotais(),cenarioInicialCustosAquecimento(),cenarioInicialCustosArrefecimento(),cenarioInicialCustosAqs(),cenarioInicialCustosTotais(),cenarioFinalConsumosAquecimento(),cenarioFinalConsumosAqs(),cenarioFinalConsumosTotais(),cenarioFinalCustosAquecimento(),cenarioFinalCustosAqs(),cenarioFinalCustosTotais(),cenarioFinalReducaoAquecimento(),cenarioFinalReducaoAqs(),cenarioFinalReducaoTotais(),resumoAquecimento(),resumoAqs(),resumoGlobals(),showResumo(),showGlobalResumo(),nextStep()}function uCalc(){var a=$("#isol-paredes").val(),o=$("#classe-en").val(),e=$("#isol-cobertura").val(),_=$("#ano").val(),i=$("#tipo-envid").val();paredes_u=0,envidracados_u=0,cobertura_u=0,paredes_u=8==o?1==a?anos_construcao[_].info[0].valor:1/(1/anos_construcao[_].info[0].valor+1):classes[o].info[0].valor,envidracados_u=8==o?0==_||2==_||3==_?envidracados[i].u:anos_construcao[_].info[2].valor:classes[o].info[1].valor,cobertura_u=8==o?""==e||1==e?anos_construcao[_].info[4].valor:anos_construcao[_].info[5].valor:classes[o].info[3].valor}function invernoCalc(){var a=$("#distrito").val(),o=$("#area-dados-input").val();paredes_kwh_inverno=0,paredes_perc_inverno=0,envidracados_kwh_inverno=0,envidracados_perc_inverno=0,cobertura_kwh_inverno=0,cobertura_perc_inverno=0,ganhos_kwh_inverno=0,ganhos_perc_inverno=0,total_1_kwh_inverno=0,total_2_kwh_inverno=0,total_3_kwh_inverno=0,total_4_kwh_inverno=0,paredes_kwh_inverno=paredes_area*paredes_u*distrito_info[a].gdi*coeficient_conversao,envidracados_kwh_inverno=envidracados_area*envidracados_u*distrito_info[a].gdi*coeficient_conversao,cobertura_kwh_inverno=cobertura_area*cobertura_u*distrito_info[a].gdi*coeficient_conversao,ganhos_kwh_inverno=ganhos_internos_i*o*distrito_info[a].duracao_estacao+.1*envidracados_area*(.25*distrito_info[a].radiacao)*distrito_info[a].duracao_estacao,total_1_kwh_inverno=paredes_kwh_inverno+envidracados_kwh_inverno+cobertura_kwh_inverno-ganhos_kwh_inverno*fator_ganhos,total_2_kwh_inverno=total_1_kwh_inverno/o,total_3_kwh_inverno=total_2_kwh_inverno/distrito_info[a].ni,paredes_perc_inverno=paredes_kwh_inverno/total_1_kwh_inverno,envidracados_perc_inverno=envidracados_kwh_inverno/total_1_kwh_inverno,cobertura_perc_inverno=cobertura_kwh_inverno/total_1_kwh_inverno,ganhos_perc_inverno=-ganhos_kwh_inverno*fator_ganhos/total_1_kwh_inverno,total_3_kwh_inverno<classes[1].valor_direto?total_4_kwh_inverno=classes[0].classe_id:total_3_kwh_inverno<classes[2].valor_direto?total_4_kwh_inverno=classes[1].classe_id:total_3_kwh_inverno<classes[3].valor_direto?total_4_kwh_inverno=classes[2].classe_id:total_3_kwh_inverno<classes[4].valor_direto?total_4_kwh_inverno=classes[3].classe_id:total_3_kwh_inverno<classes[5].valor_direto?total_4_kwh_inverno=classes[4].classe_id:total_3_kwh_inverno<classes[6].valor_direto?total_4_kwh_inverno=classes[5].classe_id:total_3_kwh_inverno<classes[7].valor_direto?total_4_kwh_inverno=classes[6].classe_id:total_4_kwh_inverno=classes[7].classe_id}function veraoCalc(){var a=$("#classe-en").val(),o=$("#ano").val(),e=$("#tipo-envid").val(),_=$("#distrito").val(),i=$("#area-dados-input").val();paredes_kwh_verao=0,paredes_perc_verao=0,envidracados_kwh_verao=0,envidracados_perc_verao=0,cobertura_kwh_verao=0,cobertura_perc_verao=0,ganhos_kwh_verao=0,ganhos_perc_verao=0,total_1_kwh_verao=0,total_2_kwh_verao=0,total_3_kwh_verao=0,total_4_kwh_verao=0,paredes_kwh_verao=paredes_area*paredes_u*necessidades_climatizacao_verao;var n=0,r=0;n=8==a?""==e?anos_construcao[o].info[3].valor:envidracados[e].Fs:classes[a].info[2].valor,r=8==a?""==e?anos_construcao[o].info[2].valor:envidracados[e].u:classes[a].info[3].valor,envidracados_kwh_verao=envidracados_area*fracao_envidracada*distrito_info[_].gdv*coeficient_conversao*n+envidracados_area*(1-fracao_envidracada)*distrito_info[_].gdv*coeficient_conversao*r,cobertura_kwh_verao=cobertura_area*cobertura_u*.5*.04*distrito_info[_].radiacao,ganhos_kwh_verao=i*ganhos_internos_v*necessidades_climatizacao_verao,total_1_kwh_verao=paredes_kwh_verao+envidracados_kwh_verao+cobertura_kwh_verao+ganhos_kwh_verao*fator_ganhos,total_2_kwh_verao=total_1_kwh_verao/i,total_3_kwh_verao=total_2_kwh_verao/distrito_info[_].nv,total_3_kwh_inverno<classes[1].valor_direto?total_4_kwh_inverno=classes[0].classe_id:total_3_kwh_inverno<classes[2].valor_direto?total_4_kwh_inverno=classes[1].classe_id:total_3_kwh_inverno<classes[3].valor_direto?total_4_kwh_inverno=classes[2].classe_id:total_3_kwh_inverno<classes[4].valor_direto?total_4_kwh_inverno=classes[3].classe_id:total_3_kwh_inverno<classes[5].valor_direto?total_4_kwh_inverno=classes[4].classe_id:total_3_kwh_inverno<classes[6].valor_direto?total_4_kwh_inverno=classes[5].classe_id:total_3_kwh_inverno<classes[7].valor_direto?total_4_kwh_inverno=classes[6].classe_id:total_4_kwh_inverno=classes[7].classe_id,paredes_perc_verao=paredes_kwh_verao/total_1_kwh_verao,envidracados_perc_verao=envidracados_kwh_verao/total_1_kwh_verao,cobertura_perc_verao=cobertura_kwh_verao/total_1_kwh_verao,ganhos_perc_verao=ganhos_kwh_verao*fator_ganhos/total_1_kwh_verao}function necessidadesAquecimento(){var a=$("#escolhe").val(),o=$("#perfil").val(),e=$("#periodos").val(),_=$("#distrito").val();nec_aq_meses=[],total_nec_meses=0;for(var i=0;i<meses_numero_horas.length;i++)nec_aq_meses[i]=i>=0&&i<5||9==i||10==i?1==a?0:0==o?total_1_kwh_inverno*irradiacao_temp_amb_temp_agua[_].mesI[i].valorPerc*perfil_necessidades[0].valor:total_1_kwh_inverno*irradiacao_temp_amb_temp_agua[_].mesI[i].valorPerc:11==i?1==a?0:0!=o||0!=e&&1!=e&&2!=e?""!=e&&void 0!=e&&0==e||1==e||2==e?total_1_kwh_inverno*irradiacao_temp_amb_temp_agua[_].mesI[i].valorPerc*periodos_encerramento[0].valor:0==o?total_1_kwh_inverno*irradiacao_temp_amb_temp_agua[_].mesI[i].valorPerc*perfil_necessidades[0].valor:total_1_kwh_inverno*irradiacao_temp_amb_temp_agua[_].mesI[i].valorPerc:total_1_kwh_inverno*irradiacao_temp_amb_temp_agua[_].mesI[i].valorPerc*perfil_necessidades[0].valor*periodos_encerramento[0].valor:0,total_nec_meses+=nec_aq_meses[i]}function necessidadesAqs(){var a=$("#rendimento").val(),o=$("#idade").val(),e=$("#fonte-aq").val();nec_aqs_meses=[],total_nec_aqs_meses=0;for(var _=0,i=0;i<meses_numero_horas.length;i++)_=0==a?3==o?tecnologia_atual_aquecimento[e].rendimento[2].valor:2==o?tecnologia_atual_aquecimento[e].rendimento[1].valor:tecnologia_atual_aquecimento[e].rendimento[0].valor:a,nec_aqs_meses[i]=consumo_aqs_meses[i]*_}function consumoInicialAquecimento(){var a=$("#fonte-aq").val(),o=$("#rendimento").val(),e=$("#idade").val(),_=new Number($("#iRendMan").val()),i=0;consumo_aq_meses=[],total_consumo_meses=0;for(var n=0;n<meses_numero_horas.length;n++)n>=0&&n<5||9==n||10==n||11==n?(i=1==o?e==tecnologia_atual_aquecimento[0].rendimento[2].nome?new Number(tecnologia_atual_aquecimento[a].rendimento[2].valor):e==tecnologia_atual_aquecimento[0].rendimento[1].nome?new Number(tecnologia_atual_aquecimento[a].rendimento[1].valor):new Number(tecnologia_atual_aquecimento[a].rendimento[0].valor):_,consumo_aq_meses[n]=nec_aq_meses[n]/i):consumo_aq_meses[n]=0,total_consumo_meses+=consumo_aq_meses[n]}function consumoInicialAqs(){consumo_aqs_meses=[],total_consumo_aqs_meses=0;for(var a=0;a<meses_numero_horas.length;a++)consumo_aqs_meses[a]=cenario_inicial_aqs_array[a],total_consumo_aqs_meses+=consumo_aq_meses[a]}function correcaoOrientacao(){var a=Math.abs($("#orientacao-input").val());correcao_orientacao_value=0,a>70?correcao_orientacao_value=0:a>desvios[4].valor?correcao_orientacao_value=new Number((1.14-.0085*a).toFixed(0)):correcao_orientacao_value=1}function nColetores(){total_n_coletores=0;var a=new Number((total_racio/area_coletor_solar).toFixed(0));total_n_coletores=0==a?new Number((energia_solar_total/area_coletor_solar).toFixed(1)):a}function areaNecessidade(){total_area=0,total_area=new Number((total_n_coletores*area_coletor_solar).toFixed(0))}function arred(a,o){var e=0;return-1==o?e=10*Math.round(a/10):-2==o?e=100*Math.round(a/100):-3==o&&(e=1e3*Math.round(a/1e3)),e}function volumeAcumulacao(){total_vol_acumulacao=0,total_area<8?total_vol_acumulacao=arred(total_area*volume_acumulacao,-1):total_vol_acumulacao=arred(total_area*volume_acumulacao,-2)}function necessidadesEnergeticas(){var a=$("#cons-aqs").val(),o=$("select[name='tipo-consumo[]']"),e=$("input[name='tipoconsumoval[]']"),_=$("#perfil-semanal").val(),i=$("#perfil-mensal").val(),n=0,r=$("#distrito").val(),s=$("#iRendMan").val(),l=$("#rendimento").val(),t=$("#aqs-consumo").val(),c=$("input[name='aqsConsumoAnualTotal']").val(),u=$("#fonte-aq").val(),m=$("#idade").val(),d=$("input[name='aqsConsumosMeses[]']");if(total_media_verao_necen=0,necessidades_array=[],necessidades_total=0,o.length!=e.length)return void alert("Por favor insira todos os dados das medidas!");if(0==_)n=.3;else if(1==_)n=.75;else if(3==_){var v=0;for(k=1;k<8;k++)v+=new Number($("#semanal-input-"+k).val());n=v/7/100}else n=1;for(var f=0;f<meses_numero_horas.length;f++)if(f>=4&&f<9){if(1==a){for(var q=0,g=0;g<e.length;g++)q+=e[g].value*(""!=consumo_diario_agua[o[g].value].valor&&void 0!=consumo_diario_agua[o[g].value].valor&&consumo_diario_agua[o[g].value].valor>0?consumo_diario_agua[o[g].value].valor:0);necessidades_array[f]=q*perfil_mensal[i].tabela[f].valor*n*meses_numero_horas[f].n_dias*fatores_conversao[0]*(temperatura_utilizacao-irradiacao_temp_amb_temp_agua[r].mesI[f].valorTempAgua)}else 0==a&&(0==t?necessidades_array[f]=c*meses_numero_horas[f].aqs_mensal*fatores_conversao[1]*tecnologia_atual_aquecimento[u].fator_conversao*(1==rendimento?tecnologia_atual_aquecimento[u].rendimento[age].valor:s):1==t&&(necessidades_array[f]=d[f].value*fatores_conversao[1]*tecnologia_atual_aquecimento[u].fator_conversao*(1==rendimento?tecnologia_atual_aquecimento[u].rendimento[age].valor:s)));necessidades_total+=necessidades_array[f],total_media_verao_necen+=necessidades_array[f]/5}else{if(1==a){for(var q=0,g=0;g<e.length;g++)q+=e[g].value*(""!=consumo_diario_agua[o[g].value].valor&&void 0!=consumo_diario_agua[o[g].value].valor&&consumo_diario_agua[o[g].value].valor>0?consumo_diario_agua[o[g].value].valor:0);necessidades_array[f]=q*perfil_mensal[i].tabela[f].valor*n*meses_numero_horas[f].n_dias*fatores_conversao[0]*(temperatura_utilizacao-irradiacao_temp_amb_temp_agua[r].mesI[f].valorTempAgua)}else 0==a&&(0==t?necessidades_array[f]=c*meses_numero_horas[f].aqs_mensal*fatores_conversao[1]*tecnologia_atual_aquecimento[u].fator_conversao*(1==rendimento?tecnologia_atual_aquecimento[u].rendimento[age].valor:s):1==t&&(necessidades_array[f]=d[f].value*fatores_conversao[1]*tecnologia_atual_aquecimento[u].fator_conversao*(1==rendimento?tecnologia_atual_aquecimento[u].rendimento[age].valor:s)));necessidades_total+=necessidades_array[f]}}function racio(){total_racio=0,total_racio=new Number((total_media_verao_necen/total_media_verao_solar).toFixed(2))}function energiaSolarCaptadaM2(){var a=$("#distrito").val();total_media_verao_solar=0,energia_solar_array=[],energia_solar_total=0;for(var o=0;o<meses_numero_horas.length;o++)o>=4&&o<9?(energia_solar_array[o]=(rendimento_otico*perdas[1].valor-coeficient_perdas*((temperatura_utilizacao-(irradiacao_temp_amb_temp_agua[a].mesI[o].valorTempAmb+irradiacao_temp_amb_temp_agua[a].mesI[o].valorTempAgua))/(correcao_inclinacao[irradiacao_temp_amb_temp_agua[a].go_latitude].meses[o].valor*(correcao_orientacao_value*perdas[2].valor*irradiacao_temp_amb_temp_agua[a].mesI[o].valorIrr)*(1e3*fatores_conversao[1]/meses_numero_horas[o].n_horas_sol))))*(correcao_inclinacao[irradiacao_temp_amb_temp_agua[a].go_latitude].meses[o].valor*(correcao_orientacao_value*perdas[1].valor*irradiacao_temp_amb_temp_agua[a].mesI[o].valorIrr))*(1-perdas[0].valor)*meses_numero_horas[o].n_dias,energia_solar_total+=energia_solar_array[o],total_media_verao_solar+=energia_solar_array[o]/5):(energia_solar_array[o]=(rendimento_otico*perdas[1].valor-coeficient_perdas*((temperatura_utilizacao-(irradiacao_temp_amb_temp_agua[a].mesI[o].valorTempAmb+irradiacao_temp_amb_temp_agua[a].mesI[o].valorTempAgua))/(correcao_inclinacao[irradiacao_temp_amb_temp_agua[a].go_latitude].meses[o].valor*(correcao_orientacao_value*perdas[2].valor*irradiacao_temp_amb_temp_agua[a].mesI[o].valorIrr)*(1e3*fatores_conversao[1]/meses_numero_horas[o].n_horas_sol))))*(correcao_inclinacao[irradiacao_temp_amb_temp_agua[a].go_latitude].meses[o].valor*(correcao_orientacao_value*perdas[1].valor*irradiacao_temp_amb_temp_agua[a].mesI[o].valorIrr))*(1-perdas[0].valor)*meses_numero_horas[o].n_dias,energia_solar_total+=energia_solar_array[o])}function energiaSolarCaptadaMJ(){energia_solar_mj_array=[],energia_solar_mj_total=0;for(var a=0;a<meses_numero_horas.length;a++)energia_solar_mj_array[a]=energia_solar_array[a]*total_n_coletores*area_coletor_solar,energia_solar_mj_total+=energia_solar_mj_array[a]}function energiaSolarUtilizada(){energia_solar_utilizada_array=[],energia_solar_utilizada_total=0;for(var a=0;a<meses_numero_horas.length;a++)energia_solar_utilizada_array[a]=energia_solar_mj_array[a]>necessidades_array[a]?necessidades_array[a]:energia_solar_mj_array[a],energia_solar_utilizada_total+=energia_solar_utilizada_array[a]}function energiaSolarUtilizadaPerc(){energia_solar_utilizada_perc_array=[],energia_solar_utilizada_perc_total=0;for(var a=0;a<meses_numero_horas.length;a++)energia_solar_utilizada_perc_array[a]=energia_solar_utilizada_array[a]/necessidades_array[a],energia_solar_utilizada_perc_total=energia_solar_utilizada_total/necessidades_total}function energiaSA(){energia_solar_sa_array=[],energia_solar_sa_total=0;for(var a=0;a<meses_numero_horas.length;a++)necessidades_array[a]-energia_solar_mj_array[a]<0?energia_solar_sa_array[a]=0:energia_solar_sa_array[a]=necessidades_array[a]-energia_solar_mj_array[a],energia_solar_sa_total+=energia_solar_sa_array[a]}function energiaSAPerc(){energia_solar_sa_perc_array=[],energia_solar_sa_perc_total=0;for(var a=0;a<meses_numero_horas.length;a++)energia_solar_sa_perc_array[a]=energia_solar_sa_array[a]/necessidades_array[a],energia_solar_sa_perc_total=energia_solar_sa_total/necessidades_total}function excedenteSolar(){excedente_solar_array=[],excedente_solar_total=0;for(var a=0;a<meses_numero_horas.length;a++)excedente_solar_array[a]=energia_solar_mj_array[a]-energia_solar_utilizada_array[a],excedente_solar_total+=excedente_solar_array[a]}function excedenteSolarPerc(){excedente_solar_perc_array=[],excedente_solar_perc_total=0;for(var a=0;a<meses_numero_horas.length;a++)excedente_solar_perc_array[a]=excedente_solar_array[a]/energia_solar_mj_array[a],excedente_solar_perc_total=excedente_solar_total/energia_solar_mj_total}function cenarioInicialConsumosAquecimento(){var a=$("#cons-aqs").val(),o=$("#consumo-quest").val(),e=$("#aquecimento-consumo").val(),_=$("input[name='aquecimentoConsumosMeses[]']"),i=$("input[name='aquecimentoConsumoAnualTotal']").val(),n=$("#fonte-aq").val(),r=$("#distrito").val(),s=$("input[name='aqsConsumosMeses[]']");cenario_inicial_aquecimento_array=[],cenario_inicial_aquecimento_total=0;for(var l=0;l<meses_numero_horas.length;l++)l>=0&&l<5||9==l||10==l||11==l?1!=a&&""!=a||0!=o||1!=e?1!=a&&""!=a||0!=o||0!=e?0==a&&0==o&&0==e&&i*tecnologia_atual_aquecimento[n].fator_conversao*irradiacao_temp_amb_temp_agua[r].mesI[l].valorPerc-s[l].value<0?cenario_inicial_aquecimento_array[l]=0:0==a&&0==o&&0==e?cenario_inicial_aquecimento_array[l]=i*tecnologia_atual_aquecimento[n].fator_conversao*irradiacao_temp_amb_temp_agua[r].mesI[l].valorPerc-s[l].value:0==a&&0==o&&1==e&&_[l].value*tecnologia_atual_aquecimento[n].fator_conversao-s[l].value<0?cenario_inicial_aquecimento_array[l]=0:cenario_inicial_aquecimento_array[l]=0==a&&0==o&&1==e?_[l].value*tecnologia_atual_aquecimento[n].fator_conversao:consumo_aq_meses[l]:cenario_inicial_aquecimento_array[l]=i*tecnologia_atual_aquecimento[n].fator_conversao*irradiacao_temp_amb_temp_agua[r].mesI[l].valorPerc:cenario_inicial_aquecimento_array[l]=_[l].value*tecnologia_atual_aquecimento[n].fator_conversao:cenario_inicial_aquecimento_array[l]=0==o&&1==e?_[l].value*tecnologia_atual_aquecimento[n].fator_conversao:0==o&&0==e?0:consumo_aq_meses[l],cenario_inicial_aquecimento_total+=cenario_inicial_aquecimento_array[l]}function cenarioInicialConsumosArrefecimento(){var a=$("#consumo-quest").val(),o=$("#arrefecimento-consumo").val(),e=$("input[name='arrefecimentoConsumoAnualTotal']").val(),_=$("input[name='arrefecimentoConsumosMeses[]']"),i=$("input[name='total_consumo_somatorio_arrefecimento']").val(),n=$("#distrito").val();cenario_inicial_arr_array=[],cenario_inicial_arr_total=0;for(var r=0;r<meses_numero_horas.lenght;r++)cenario_inicial_arr_array[r]=r<5&&r>=9?0==a&&0==o?i:0==a&&0==o?0:consumo_arr_meses[r]:0==a&&0==o?_[r].value:0==a&&0==o?e*irradiacao_temp_amb_temp_agua[n].mesI[r].valorPerc:consumo_arr_meses[r],cenario_inicial_arr_total+=cenario_inicial_arr_array[r]}function cenarioInicialConsumosAqs(){var a=$("#cons-aqs").val(),o=$("#consumo-quest").val(),e=$("#aquecimento-consumo").val(),_=$("#aqs-consumo").val(),i=$("input[name='aqsConsumosMeses[]']"),n=$("input[name='aqsConsumoAnualTotal']").val(),r=$("#fonte-aq").val(),s=$("#distrito").val(),l=$("#rendimento").val(),t=$("#idade").val(),c=new Number($("#iRendMan").val());cenario_inicial_aqs_array=[],cenario_inicial_aqs_total=0;for(var u=0;u<meses_numero_horas.length;u++)cenario_inicial_aqs_array[u]=1==a?necessidades_array[u]*fatores_conversao[1]/(0==l?tecnologia_atual_aquecimento[r].rendimento[t].valor:c):1==_?i[u].value*tecnologia_atual_aquecimento[r].fator_conversao:0==_?n*meses_numero_horas[u].aqs_mensal*tecnologia_atual_aquecimento[r].fator_conversao:0,cenario_inicial_aqs_total+=cenario_inicial_aqs_array[u]}function cenarioInicialConsumosTotais(){cenario_inicial_consumos_total_global=0,cenario_inicial_consumos_aq_perc=0,cenario_inicial_consumos_arr_perc=0,cenario_inicial_consumos_aqs_perc=0,cenario_inicial_consumos_total_global=cenario_inicial_aquecimento_total+cenario_inicial_arr_total+cenario_inicial_aqs_total,cenario_inicial_consumos_aq_perc=cenario_inicial_aquecimento_total/cenario_inicial_consumos_total_global,cenario_inicial_consumos_arr_perc=cenario_inicial_arr_total/cenario_inicial_consumos_total_global,cenario_inicial_consumos_aqs_perc=cenario_inicial_aqs_total/cenario_inicial_consumos_total_global}function cenarioInicialCustosAquecimento(){var a=$("#custo-en-unit-aq").val();cenario_inicial_custos_aq_array=[],cenario_inicial_custos_aq_total=0;for(var o=0;o<meses_numero_horas.length;o++)cenario_inicial_custos_aq_array[o]=cenario_inicial_aquecimento_array[o]*a,cenario_inicial_custos_aq_total+=cenario_inicial_custos_aq_array[o]}function cenarioInicialCustosArrefecimento(){var a=$("#custo-en-unit-ar").val();cenario_inicial_custos_arr_array=[],cenario_inicial_custos_arr_total=0;for(var o=0;o<meses_numero_horas.length;o++)cenario_inicial_custos_arr_array[o]=cenario_inicial_arr_array[o]*a,cenario_inicial_custos_arr_total+=cenario_inicial_custos_arr_array[o]}function cenarioInicialCustosAqs(){var a=$("#custo-en-unit-aq").val();cenario_inicial_custos_aqs_array=[],cenario_inicial_custos_aqs_total=0;for(var o=0;o<meses_numero_horas.length;o++)cenario_inicial_custos_aqs_array[o]=cenario_inicial_aqs_array[o]*a,cenario_inicial_custos_aqs_total+=cenario_inicial_custos_aqs_array[o]}function cenarioInicialCustosTotais(){cenario_inicial_custos_total_global=0,cenario_inicial_custos_aq_perc=0,cenario_inicial_custos_arr_perc=0,cenario_inicial_custos_aqs_perc=0,cenario_inicial_custos_total_global=cenario_inicial_custos_aq_total+cenario_inicial_custos_arr_total+cenario_inicial_custos_aqs_total,cenario_inicial_custos_aq_perc=cenario_inicial_custos_aq_total/cenario_inicial_consumos_total_global,cenario_inicial_custos_arr_perc=cenario_inicial_custos_arr_total/cenario_inicial_consumos_total_global,cenario_inicial_custos_aqs_perc=cenario_inicial_custos_aqs_total/cenario_inicial_consumos_total_global}function cenarioFinalConsumosAquecimento(){var a=$("#new-fonte-aq").val(),o=$("#idade").val(),e=new Number($("#rendimento").val()),_=new Number($("#iRendMan").val()),i=new Number($("#rend-med").val());cenario_final_aquecimento_array=[],cenario_final_aquecimento_total=0;for(var n=0;n<meses_numero_horas.length;n++){if(5==a)cenario_final_aquecimento_array[n]=cenario_inicial_aquecimento_array[n];else{var r=""!=e&&void 0!=e&&0==e?tecnologia_atual_aquecimento[a].rendimento[o].valor:_;cenario_final_aquecimento_array[n]=new Number(cenario_inicial_aquecimento_array[n]*r/(""!=i&&void 0!=i?tecnologia_futura_aquecimento[a].rendimento:i))}cenario_final_aquecimento_total+=cenario_final_aquecimento_array[n]}}function cenarioFinalConsumosAqs(){var a=$("#simulacao-aqs").val(),o=$("#aqs-consumo").val(),e=$("input[name='aqsConsumosMeses[]']"),_=$("input[name='aqsConsumoAnualTotal']").val(),i=$("#fonte-aq").val(),n=new Number($("#rend-med").val()),r=$("#idade").val(),s=$("#new-fonte-aq").val();cenario_final_aqs_array=[],cenario_final_aqs_total=0;for(var l=0;l<meses_numero_horas.length;l++){if(1==a&&1==o){var t=""!=$("#rendimento").val()&&void 0!=$("#rendimento").val()&&0==$("#rendimento").val()?tecnologia_atual_aquecimento[s].rendimento[r].valor:$("#rendimento").val();cenario_final_aqs_array[l]=e[l].value*tecnologia_atual_aquecimento[i].fator_conversao*t/n}else if(1==a&&0==o){var t=""!=$("#rendimento").val()&&void 0!=$("#rendimento").val()&&0==$("#rendimento").val()?tecnologia_atual_aquecimento[s].rendimento[r].valor:$("#rendimento").val();cenario_final_aqs_array[l]=_*meses_numero_horas[l].aqs_mensal*tecnologia_atual_aquecimento[i].fator_conversao*t/(0==n?tecnologia_futura_aquecimento[s].rendimento:n)}else if(0==a)cenario_final_aqs_array[l]=energia_solar_sa_array[l]*fatores_conversao[1]/n;else{var t=""!=$("#rendimento").val()&&void 0!=$("#rendimento").val()&&0==$("#rendimento").val()?tecnologia_atual_aquecimento[s].rendimento[r].valor:$("#rendimento").val();cenario_final_aqs_array[l]=e[l].value*t/n}cenario_final_aqs_total+=cenario_final_aqs_array[l]}}function cenarioFinalConsumosTotais(){var a=0,o=0,e=0,_=0;a=cenario_final_aquecimento_total+0+cenario_final_aqs_total,o=cenario_final_aquecimento_total/a,_=cenario_final_aqs_total/a}function cenarioFinalCustosAquecimento(){var a=new Number($("#custo-unit-med-aq").val());cenario_final_custos_aquecimento_array=[],cenario_final_custos_aquecimento_total=0;for(var o=0;o<meses_numero_horas.length;o++)cenario_final_custos_aquecimento_array[o]=cenario_final_aquecimento_array[o]*a,cenario_final_custos_aquecimento_total+=cenario_final_custos_aquecimento_array[o]}function cenarioFinalCustosAqs(){var a=new Number($("#custo-unit-med-aq").val());cenario_final_custos_aqs_array=[],cenario_final_custos_aqs_total=0;for(var o=0;o<meses_numero_horas.length;o++)cenario_final_custos_aqs_array[o]=cenario_final_aqs_array[o]*a,cenario_final_custos_aqs_total+=cenario_final_custos_aqs_array[o]}function cenarioFinalCustosTotais(){cenario_final_custos_total_global=cenario_final_custos_aquecimento_total+cenario_final_custos_arrefecimento_total+cenario_final_custos_aqs_total,cenario_final_custos_aq_perc=cenario_final_custos_aquecimento_total/cenario_final_custos_total_global,cenario_final_custos_arr_perc=cenario_final_custos_arrefecimento_total/cenario_final_custos_total_global,cenario_final_custos_aqs_perc=cenario_final_custos_aqs_total/cenario_final_custos_total_global}function cenarioFinalReducaoAquecimento(){cenario_final_reducao_aquecimento_array=[],cenario_final_reducao_aquecimento_total=0,cenario_final_reducao_aquecimento_array_perc=[],cenario_final_reducao_aquecimento_total_perc=0;for(var a=0;a<meses_numero_horas.length;a++)cenario_final_reducao_aquecimento_array[a]=cenario_inicial_aquecimento_array[a]-cenario_final_aquecimento_array[a],cenario_final_reducao_aquecimento_total+=cenario_final_reducao_aquecimento_array[a],cenario_final_reducao_aquecimento_array_perc[a]=cenario_inicial_custos_aq_array[a]-cenario_final_custos_aquecimento_array[a],cenario_final_reducao_aquecimento_total_perc+=cenario_final_reducao_aquecimento_array_perc[a]}function cenarioFinalReducaoAqs(){cenario_final_reducao_aqs_array=[],cenario_final_reducao_aqs_total=0,cenario_final_reducao_aqs_array_perc=[],cenario_final_reducao_aqs_total_perc=0;for(var a=0;a<meses_numero_horas.length;a++)cenario_final_reducao_aqs_array[a]=cenario_inicial_aqs_array[a]-cenario_final_aqs_array[a],cenario_final_reducao_aqs_total+=cenario_final_reducao_aqs_array[a],cenario_final_reducao_aqs_array_perc[a]=cenario_inicial_custos_aqs_array[a]-cenario_final_custos_aqs_array[a],cenario_final_reducao_aqs_total_perc+=cenario_final_reducao_aqs_array_perc[a]}function cenarioFinalReducaoTotais(){var a=$("#simulacao-aqs").val();cenario_final_reducao_total_global=0,cenario_final_reducao_aq_perc=0,cenario_final_reducao_arr_perc=0,cenario_final_reducao_aqs_perc=0,cenario_final_reducao_total_global=0==a?(cenario_final_reducao_aquecimento_total_perc+0+cenario_final_reducao_aqs_total_perc)/cenario_inicial_custos_total_global:(cenario_final_reducao_aquecimento_total_perc+0)/cenario_inicial_custos_total_global,cenario_final_reducao_aq_perc=cenario_final_reducao_aquecimento_total_perc/cenario_inicial_custos_aq_total,cenario_final_reducao_arr_perc=0,cenario_final_reducao_aqs_perc=cenario_final_reducao_aqs_total_perc/cenario_inicial_custos_aqs_total}function resumoAquecimento(){var a=$("#fonte-aq").val(),o=$("#rendimento").val(),e=$("#iRendMan").val(),_=$("#idade").val(),i=$("#new-fonte-aq").val(),n=$("#potencia-aq").val(),r=$("#pot-med-aq").val(),s=$("#rend-med").val(),l=$("#use-arr").val(),t=$("#area-dados-input").val();resumo_equipamento_inicial="",resumo_equipamento_final="",resumo_potencia_inicial=0,resumo_potencia_final=0,resumo_rendimento_inicial=0,resumo_rendimento_final=0,resumo_fonte_energia_inicial=0,resumo_fonte_energia_final=0,resumo_consumo_anual_inicial=0,resumo_consumo_anual_final=0,resumo_custo_anual_inicial=0,resumo_custo_anual_final=0,resumo_reducao_consumo=0,resumo_reducao_custos_valor=0,resumo_reducao_custos_perc=0,resumo_custo_unit_inicial=0,resumo_custo_unit_final=0,resumo_investimento_estimado=0,resumo_pri_simples=0,resumo_equipamento_inicial=tecnologia_atual_aquecimento[a].nome,resumo_equipamento_final=5==i?tecnologia_futura_aquecimento[5].nome:tecnologia_futura_aquecimento[i].nome;var c=tecnologia_futura_aquecimento[a].id,u=tecnologia_futura_aquecimento[i].id;resumo_potencia_inicial=n,resumo_potencia_final=r,resumo_rendimento_inicial=""!=o&&0==o?100*tecnologia_atual_aquecimento[a].rendimento[_].valor:100*e,resumo_rendimento_final=100*s,resumo_fonte_energia_inicial=tecnologia_atual_aquecimento[c].fonte_energia,resumo_fonte_energia_final=5==i?resumo_fonte_energia_inicial:tecnologia_futura_aquecimento[u].fonte_energia,resumo_consumo_anual_inicial=new Number(cenario_inicial_aquecimento_total.toFixed(0)),resumo_consumo_anual_final=new Number(cenario_final_aquecimento_total.toFixed(0)),resumo_custo_anual_inicial=new Number(cenario_inicial_custos_aq_total.toFixed(0)),resumo_custo_anual_final=new Number(cenario_final_custos_aquecimento_total.toFixed(0)),resumo_reducao_consumo=new Number((resumo_consumo_anual_inicial-resumo_consumo_anual_final).toFixed(0)),resumo_reducao_custos_valor=new Number((resumo_custo_anual_inicial-resumo_custo_anual_final).toFixed(0)),resumo_reducao_custos_perc=new Number((resumo_reducao_custos_valor/resumo_custo_anual_inicial*100).toFixed(0)),resumo_custo_unit_inicial=new Number((resumo_custo_anual_inicial/resumo_consumo_anual_inicial).toFixed(2)),resumo_custo_unit_final=new Number((resumo_custo_anual_final/resumo_consumo_anual_final).toFixed(2)),resumo_investimento_estimado=3!=i&&5!=i||0!=l?new Number((t*tecnologia_futura_aquecimento[i].potencia*tecnologia_futura_aquecimento[i].investimento).toFixed(0)):new Number((t*tecnologia_futura_aquecimento[i].potencia*tecnologia_futura_aquecimento[i].investimento/2).toFixed(0)),resumo_pri_simples=new Number((resumo_investimento_estimado/resumo_reducao_custos_valor).toFixed(1))}function resumoAqs(){var a=$("#simulacao-aqs").val();if(resumo_consumo_anual_inicial_aqs=0,resumo_consumo_anual_final_aqs=0,resumo_custo_anual_inicial_aqs=0,resumo_custo_anual_final_aqs=0,resumo_reducao_consumo_aqs=0,resumo_reducao_custos_valor_aqs=0,resumo_reducao_custos_perc_aqs=0,resumo_custo_unit_inicial_aqs=0,resumo_custo_unit_final_aqs=0,resumo_investimento_estimado_aqs=0,resumo_pri_simples_aqs=0,resumo_consumo_anual_inicial_aqs=new Number(cenario_inicial_aqs_total.toFixed(0)),resumo_consumo_anual_final_aqs=new Number(cenario_final_aqs_total.toFixed(0)),resumo_custo_anual_inicial_aqs=new Number(cenario_inicial_custos_aqs_total.toFixed(0)),resumo_custo_anual_final_aqs=new Number(cenario_final_custos_aqs_total.toFixed(0)),resumo_reducao_consumo_aqs=new Number((resumo_consumo_anual_inicial_aqs-resumo_consumo_anual_final_aqs).toFixed(0)),resumo_reducao_custos_valor_aqs=new Number((resumo_custo_anual_inicial_aqs-resumo_custo_anual_final_aqs).toFixed(0)),resumo_reducao_custos_perc_aqs=new Number((resumo_reducao_custos_valor_aqs/resumo_custo_anual_inicial_aqs*100).toFixed(0)),resumo_custo_unit_inicial_aqs=new Number((resumo_custo_anual_inicial_aqs/resumo_consumo_anual_inicial_aqs).toFixed(2)),resumo_custo_unit_final_aqs=new Number((resumo_custo_anual_final_aqs/resumo_consumo_anual_final_aqs).toFixed(2)),1==a)resumo_investimento_estimado_aqs=0;else if(total_area<investimento[0].info[0].max)resumo_investimento_estimado_aqs=new Number((investimento[0].info[0].valor*total_area).toFixed(0));else if(total_area>investimento[0].info[2].max)resumo_investimento_estimado_aqs=new Number((investimento[0].info[2].valor*total_area).toFixed(0));else{var o=0;o=total_vol_acumulacao<investimento[1].info[0].max?investimento[1].info[0].valor*total_vol_acumulacao:total_vol_acumulacao>investimento[1].info[2].min?investimento[1].info[2].valor*total_vol_acumulacao:investimento[1].info[1].valor*total_vol_acumulacao,resumo_investimento_estimado_aqs=new Number((investimento[0].info[1].valor*total_area+o*(1+investimento[2].valor_direto)).toFixed(0))}resumo_pri_simples_aqs=new Number((resumo_investimento_estimado_aqs/resumo_reducao_custos_valor_aqs).toFixed(1))}function resumoGlobals(){var a=$("#total-titulo").val(),o=$("#escolhe").val(),e=$("#use-aqs").val();consumo_anual_total_global_inicial=0,consumo_anual_total_global_final=0,consumo_anual_clima_global_inicial=0,consumo_anual_clima_global_final=0,perc_relativa_total_global_inicial=0,perc_relativa_total_global_final=0,custos_anuais_global_inicial=0,custos_anuais_global_final=0,reducao_consumo_global=0,reducao_custo_global_valor=0,reducao_custo_global_perc=0,custo_unit_global_inicial=0,custo_unit_global_final=0,investimento_estimado_global=0,pri_simples_global=0,consumo_anual_total_global_inicial=new Number(a),consumo_anual_total_global_final=new Number((a-reducao_consumo_global).toFixed(0)),1==o?(consumo_anual_clima_global_inicial=0,
consumo_anual_clima_global_final=0):0!=o||""!=e&&1!=e?0==o&&0==e?(consumo_anual_clima_global_inicial=new Number((resumo_consumo_anual_inicial+resumo_consumo_anual_inicial_aqs).toFixed(0)),consumo_anual_clima_global_final=new Number((resumo_consumo_anual_final+resumo_consumo_anual_final_aqs).toFixed(0))):2!=o||""!=e&&1!=e?(consumo_anual_clima_global_inicial=new Number((resumo_consumo_anual_inicial+resumo_consumo_anual_inicial_aqs+0).toFixed(0)),consumo_anual_clima_global_final=new Number((resumo_consumo_anual_final+resumo_consumo_anual_final_aqs+0).toFixed(0))):(consumo_anual_clima_global_inicial=new Number((0+resumo_consumo_anual_inicial_aqs).toFixed(0)),consumo_anual_clima_global_final=new Number((0+resumo_consumo_anual_final_aqs).toFixed(0))):(consumo_anual_clima_global_inicial=new Number(resumo_consumo_anual_inicial.toFixed(0)),consumo_anual_clima_global_final=new Number(resumo_consumo_anual_final.toFixed(0))),perc_relativa_total_global_inicial=new Number((consumo_anual_clima_global_inicial/consumo_anual_total_global_inicial*100).toFixed(0)),perc_relativa_total_global_final=new Number((consumo_anual_clima_global_final/consumo_anual_total_global_final*100).toFixed(0)),1==o?(custos_anuais_global_inicial=0,custos_anuais_global_final=0,reducao_consumo_global=0,reducao_custo_global_valor=0):0!=o||""!=e&&1!=e?0==o&&0==e?(custos_anuais_global_inicial=new Number((resumo_custo_anual_inicial+resumo_custo_anual_inicial_aqs).toFixed(0)),custos_anuais_global_final=new Number((resumo_custo_anual_final+resumo_custo_anual_final_aqs).toFixed(0)),reducao_consumo_global=new Number((resumo_reducao_consumo+resumo_reducao_consumo_aqs).toFixed(0)),reducao_custo_global_valor=new Number((resumo_reducao_custos_valor+resumo_reducao_custos_valor_aqs).toFixed(0))):2!=o||""!=e&&1!=e?(custos_anuais_global_inicial=new Number((resumo_custo_anual_inicial+0+resumo_custo_anual_inicial_aqs).toFixed(0)),custos_anuais_global_final=new Number((resumo_custo_anual_final+0+resumo_custo_anual_final_aqs).toFixed(0)),reducao_consumo_global=new Number((resumo_reducao_consumo+0+resumo_reducao_consumo_aqs).toFixed(0)),reducao_custo_global_valor=new Number((resumo_reducao_custos_valor+0+resumo_reducao_custos_valor_aqs).toFixed(0))):(custos_anuais_global_inicial=new Number((resumo_custo_anual_inicial+0).toFixed(0)),custos_anuais_global_final=new Number((resumo_custo_anual_final+0).toFixed(0)),reducao_consumo_global=new Number((resumo_reducao_consumo+0).toFixed(0)),reducao_custo_global_valor=new Number((resumo_reducao_custos_valor+0).toFixed(0))):(custos_anuais_global_inicial=new Number(resumo_custo_anual_inicial.toFixed(0)),custos_anuais_global_final=new Number(resumo_custo_anual_final.toFixed(0)),reducao_consumo_global=new Number(resumo_reducao_consumo.toFixed(0)),reducao_custo_global_valor=new Number(resumo_reducao_custos_valor.toFixed(0))),reducao_custo_global_perc=new Number((reducao_custo_global_valor/custos_anuais_global_inicial*100).toFixed(0)),custo_unit_global_inicial=new Number((custos_anuais_global_inicial/consumo_anual_clima_global_inicial).toFixed(2)),custo_unit_global_final=new Number((custos_anuais_global_final/consumo_anual_clima_global_final).toFixed(2)),investimento_estimado_global=1==o?0:0!=o||""!=e&&1!=e?0==o&&0==e?new Number((resumo_investimento_estimado+resumo_investimento_estimado_aqs).toFixed(0)):2!=o||""!=e&&1!=e?new Number((resumo_investimento_estimado+resumo_investimento_estimado_aqs+0).toFixed(0)):0+resumo_investimento_estimado_aqs:new Number(resumo_investimento_estimado.toFixed(0)),pri_simples_global=new Number((investimento_estimado_global/reducao_custo_global_valor).toFixed(1))}function showResumo(){$("#equipamento-aqu-inicial").html(resumo_equipamento_inicial),$("#equipamento-aqu-final").html(resumo_equipamento_final),$("#potencia-aqu-inicial").html(resumo_potencia_inicial+" kW"),$("#potencia-aqu-final").html(resumo_potencia_final+" kW"),$("#rendimento-aqu-inicial").html(resumo_rendimento_inicial+"%"),$("#rendimento-aqu-final").html(resumo_rendimento_final+"%"),$("#fonte-energia-aqu-inicial").html(resumo_fonte_energia_inicial),$("#fonte-energia-aqu-final").html(resumo_fonte_energia_final),$("#cons-anual-aqu-inicial").html(resumo_consumo_anual_inicial+" kWh"),$("#cons-anual-aqu-final").html(resumo_consumo_anual_final+" kWh"),$("#cons-anual-aqs-inicial").html(resumo_consumo_anual_inicial_aqs+" kWh"),$("#cons-anual-aqs-final").html(resumo_consumo_anual_final_aqs+" kWh"),$("#custo-anual-aqu-inicial").html(resumo_custo_anual_inicial+" €"),$("#custo-anual-aqu-final").html(resumo_custo_anual_final+" €"),$("#custo-anual-aqs-inicial").html(resumo_custo_anual_inicial_aqs+" €"),$("#custo-anual-aqs-final").html(resumo_custo_anual_final_aqs+" €"),$("#reducao-cons-aqu").html(resumo_reducao_consumo+" kWh"),$("#reducao-cons-aqs").html(resumo_reducao_consumo_aqs+" kWh"),$("#reducao-custo-aqu").html(resumo_reducao_custos_valor+" €"),$("#reducao-custo-aqs").html(resumo_reducao_custos_valor_aqs+" €"),$("#reducao-custo-aqu-perc").html(resumo_reducao_custos_perc+"%"),$("#reducao-custo-aqs-perc").html(resumo_reducao_custos_perc_aqs+"%"),$("#custo-unit-aqu-inicial").html(resumo_custo_unit_inicial+" €"),$("#custo-unit-aqu-final").html(resumo_custo_unit_final+" €"),$("#custo-unit-aqs-inicial").html(resumo_custo_unit_inicial_aqs+" €"),$("#custo-unit-aqs-final").html(resumo_custo_unit_final_aqs+" €"),$("#investimento-aqu").html(resumo_investimento_estimado+" €"),$("#investimento-aqs").html(resumo_investimento_estimado_aqs+" €"),$("#pri-aqu").html(resumo_pri_simples+" anos"),$("#pri-aqs").html(resumo_pri_simples_aqs+" anos")}function showGlobalResumo(){$("#consumo-anual-total-inicial-global").html(consumo_anual_total_global_inicial+" kWh"),$("#consumo-anual-total-final-global").html(consumo_anual_total_global_final+" kWh"),$("#consumo-anual-clima-inicial-global").html(consumo_anual_clima_global_inicial+" kWh"),$("#consumo-anual-clima-final-global").html(consumo_anual_clima_global_final+" kWh"),$("#perc-total-inicial-global").html(perc_relativa_total_global_inicial+"%"),$("#perc-total-final-global").html(perc_relativa_total_global_final+"%"),$("#custo-anual-inicial-global").html(custos_anuais_global_inicial+" €"),$("#custo-anual-final-global").html(custos_anuais_global_final+" €"),$("#reducao-consumo-global").html(reducao_consumo_global+" kWh"),$("#reducao-custo-valor-global").html(reducao_custo_global_valor+" €"),$("#reducao-custo-perc-global").html(reducao_custo_global_perc+"%"),$("#custo-unit-inicial-global").html(custo_unit_global_inicial+" €"),$("#custo-unit-final-global").html(custo_unit_global_final+" €"),$("#investimento-global").html(investimento_estimado_global+" €"),$("#pri-global").html(pri_simples_global+" anos")}