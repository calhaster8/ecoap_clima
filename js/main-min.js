function buildIdade(){for(var e=0;e<idades.length;e++)$("#idade").append($('<option class="op"></option>').val(e).html(idades[e].nome))}function buildIdadeArr(){for(var e=0;e<idades.length;e++)$("#age-eer").append($('<option class="op"></option>').val(e).html(idades[e].nome))}function getTipoConsumo(){var e=new Number($("#tipo-consumo"+rowId).val());$("#tipo-consumo-descricao"+rowId).html(consumo_diario_agua[e].numero_de)}function selWidth(){0==$("#tipo-envid").val()?$("#tipo-envid").css("width","50%"):1==$("#tipo-envid").val()?$("#tipo-envid").css("width","60%"):2==$("#tipo-envid").val()?$("#tipo-envid").css("width","75%"):3==$("#tipo-envid").val()&&$("#tipo-envid").css("width","90%")}function buildUtilizacao(){for(var e=0;e<utilizacao_calc.length;e++)$("#escolhe").append($('<option class="op"></option>').val(e).html(utilizacao_calc[e].nome))}function buildDistrito(){for(var e=0;e<distrito_info.length;e++)$("#distrito").append($('<option class="op"></option>').val(e).html(distrito_info[e].nome))}function buildFontesEnergia(){for(var e=0;e<fonteEnergeticaI.length;e++)$("#consumos-caixa").append($('<option class="op"></option>').val(e).html(fonteEnergeticaI[e].nome))}function getFontesEnergiaData(){var e=$(this).val();""!=e&&void 0!=e&&e>=0?($(this).parent().parent().find("#unidade-consumo").html(fonteEnergeticaI[e].unidade[0].unid_nome),$(this).parent().parent().next().find("#unidade-custo-consumo").html(fonteEnergeticaI[e].unidade[1].unid_custo_nome),$(this).parent().parent().next().find("#valor-pred-consumo").val(new Number(fonteEnergeticaI[e].unidade[1].valor*fonteEnergeticaI[e].unidade[0].valor).toFixed(2))):($(this).parent().parent().find("#unidade-consumo").html("unidade"),$(this).parent().parent().next().find("#unidade-custo-consumo").html("€/unidade"),$(this).parent().parent().next().find("#valor-pred-consumo").val(0)),dadosFirstTotal()}function buildTipoConsumo(){for(var e=0;e<consumo_diario_agua.length;e++)$(".tipo-consumo").append($('<option class="op"></option>').val(e).html(consumo_diario_agua[e].nome))}function setNumberOf(){var e=$(this).parent().parent().find("#desctipoconsumo");""==$(this).val()||void 0==$(this).val()||$(this).val()<0?e.html(""):e.html(consumo_diario_agua[$(this).val()].numero_de)}function addRowConsumes(){if("none"==$("#copy-row-consume").css("display")&&"none"==$("#copy-row-consume-2").css("display"))$("#copy-row-consume").find("#unidade-consumo").html(""),$("#copy-row-consume").find("#consumos-caixa").val(""),$("#copy-row-consume").find("#valor-input-consumo").val(""),$("#copy-row-consume-2").find("#unidade-custo-consumo").html(""),$("#copy-row-consume-2").find("#valor-pred-consumo").val(""),$("#copy-row-consume").show(),$("#copy-row-consume-2").show();else{var e=$("#copy-row-consume"),o=$("#copy-row-consume-2"),a=e.clone(!0),i=o.clone(!0),n=$("select[name='consumos-caixa[]']").length;a.find("#unidade-consumo").html("unidade"),a.find("#consumos-caixa").val(""),a.find("#valor-input-consumo").val(""),a.insertBefore("#consumos-energeticos tbody>tr:last"),a.removeAttr("id"),i.find("#unidade-custo-consumo").html("€/unidade"),i.find("#valor-pred-consumo").val(""),i.insertBefore("#consumos-energeticos tbody>tr:last"),i.removeAttr("id")}}function removeRowConsumes(){var e=$(this).parent().parent();if("copy-row-consume"!=e.attr("id")){1==confirm("Tem a certeza que pretende remover?")&&(e.next().remove(),e.remove(),dadosFirstTotal())}else $("#copy-row-consume").find("#unidade-consumo").html(""),$("#copy-row-consume").find("#consumos-caixa").val(""),$("#copy-row-consume").find("#valor-input-consumo").val(""),$("#copy-row-consume-2").find("#unidade-custo-consumo").html(""),$("#copy-row-consume-2").find("#valor-pred-consumo").val(""),e.next().hide(),e.hide(),dadosFirstTotal()}function buildPerfilSel(){for(var e=0;e<perfil_necessidades.length;e++)$("#perfil").append($('<option class="op"></option>').val(e).html(perfil_necessidades[e].nome))}function buildPeriodos(){for(var e=0;e<periodos_encerramento.length;e++)$("#periodos").append($('<option class="op"></option>').val(e).html(periodos_encerramento[e].periodo))}function buildClasseEnergia(){for(var e=0;e<classes.length;e++)$("#classe-en").append($('<option class="op"></option>').val(e).html(classes[e].classe_id))}function buildAnosConst(){for(var e=0;e<anos_construcao.length;e++)$("#ano").append($('<option class="op"></option>').val(e).html(anos_construcao[e].nome))}function buildTipoEnvidracado(){for(var e=0;e<envidracados.length;e++)$("#tipo-envid").append($('<option class="op"></option>').val(e).html(envidracados[e].nome))}function buildFonteAquecimento(){for(var e=0;e<tecnologia_atual_aquecimento.length;e++)$("#fonte-aq").append($('<option class="op"></option>').val(e).html(tecnologia_atual_aquecimento[e].nome))}function buildFonteArrefecimento(){for(var e=0;e<tecnologia_atual_arrefecimento.length;e++)$("#fonte-ar").append($('<option class="op"></option>').val(e).html(tecnologia_atual_arrefecimento[e].nome))}function buildFonteNewAquecimento(){for(var e=0;e<tecnologia_futura_aquecimento.length;e++)$("#new-fonte-aq").append($('<option class="op"></option>').val(e).html(tecnologia_futura_aquecimento[e].nome))}function buildFonteNewArrefecimento(){for(var e=0;e<tecnologia_futura_arrefecimento.length;e++)$("#new-fonte-ar").append($('<option class="op"></option>').val(e).html(tecnologia_futura_arrefecimento[e].nome))}function buildDesvios(){for(var e=0;e<desvios.length;e++)$("#orientacao-paineis").append($('<option class="op"></option>').val(e).html(desvios[e].nome))}function buildPerfilMensal(){for(var e=0;e<perfil_mensal.length;e++)$("#perfil-mensal").append($('<option class="op"></option>').val(e).html(perfil_mensal[e].nome))}function getPerfilMensal(){3==$("#perfil-mensal").val()?$(".table-mensal").removeClass("hide-perfil-mensal"):$(".table-mensal").addClass("hide-perfil-mensal")}function buildPerfilSemanal(){for(var e=0;e<perfil_semanal.length;e++)$("#perfil-semanal").append($('<option class="op"></option>').val(e).html(perfil_semanal[e].nome))}function getPerfilSemanal(){3==$("#perfil-semanal").val()?$(".table-semanal").removeClass("hide-perfil-semanal"):$(".table-semanal").addClass("hide-perfil-semanal")}function consumoLinks(){1==$("#consumo-quest").val()?$(".hid").removeClass("consumo-link"):$(".hid").addClass("consumo-link")}function coberturaLinks(){0==$("#cobertura").val()?$(".cobertura-answer").removeClass("cobertura-link"):$(".cobertura-answer").addClass("cobertura-link")}function classeLinks(){8==$("#classe-en").val()?$(".ano-construct").removeClass("classe-link"):$(".ano-construct").addClass("classe-link")}function anoLinks(){0!=$("#ano").val()&&2!=$("#ano").val()&&3!=$("#ano").val()||""==$("#ano").val()||void 0==$("#ano").val()?$(".hid-ano").addClass("ano-construct-link"):$(".hid-ano").removeClass("ano-construct-link")}function fonteAqLink(){var e=$("#fonte-aq").val();if(4==e||5==e?($(".rend").show(),$("#labelRendimento").html("COP"),$("#rendimento").val(""),$("#labelIRendman").html("Insira o COP"),$("#labelIRendman").hide(),$("#iRendMan").hide(),$("#iRendMan").removeAttr("disabled"),$("#rendimento").find("option[value='2']").html("Inserir COP")):6==e?($(".rend").hide(),$("#labelRendimento").hide(),$("#rendimento").hide(),$("#rendimento").val("2"),$("#iRendMan").val("1")):""!=e&&void 0!=e&&e>=0?($(".rend").show(),$("#labelRendimento").html("Rendimento (%)"),$("#rendimento").val(""),$("#idade").val(""),$("#labelIRendman").hide(),$("#iRendMan").hide(),$("#iRendMan").removeAttr("disabled"),$("#rend").find("option[value='2']").html("Inserir rendimento")):($(".rend").show(),$("#labelRendimento").html("Rendimento (%) / COP"),$("#rendimento").val(""),$("#idade").val(""),$("#idade").hide(),$("#labelIRendman").hide(),$("#iRendMan").hide(),$("#iRendMan").removeAttr("disabled"),$("#rend").find("option[value='2']").html("Inserir rendimento")),""!=e&&void 0!=e&&e>=0){$("#custo-en-unit-aq").val(tecnologia_atual_aquecimento[e].custo_unit);var o=$("#custo-en-unit-aq-label")[0].textContent.indexOf("("),a=$("#custo-en-unit-aq-label")[0].textContent.substring(0,o)+" (€/"+tecnologia_atual_aquecimento[e].unidade+")";$("#custo-en-unit-aq-label")[0].textContent=a}rendCopLink()}function fonteArrLink(){var e=$("#fonte-ar").val();if(""!=e&&void 0!=e&&e>=0){$("#custo-en-unit-ar").val(tecnologia_atual_arrefecimento[e].custo_unit);var o=$("#custo-en-unit-ar-label")[0].textContent.indexOf("("),a=$("#custo-en-unit-ar-label")[0].textContent.substring(0,o)+" (€/"+tecnologia_atual_arrefecimento[e].unidade+")";$("#custo-en-unit-ar-label")[0].textContent=a}eerLink()}function getCustoUnit(){var e=$("#new-fonte-aq").val();if(""!=e&&void 0!=e&&e>=0){$("#rend-med-label")[0].textContent=0==e?"COP":"Rendimento (%)",$("#rend-med").val(new Number((tecnologia_futura_aquecimento[e].rendimento*(0==e?1:100)).toFixed(2))),$("#custo-unit-med-aq").val((tecnologia_futura_aquecimento[e].custo_unit*tecnologia_futura_aquecimento[e].fator_conversao).toFixed(2));var o=$("#custo-unit-med-aq-label")[0].textContent.indexOf("("),a=$("#custo-unit-med-aq-label")[0].textContent.substring(0,o)+" (€/"+tecnologia_futura_aquecimento[e].unidade+")";$("#custo-unit-med-aq-label")[0].textContent=a}}function rendCopLink(){var e=$("#fonte-aq").val(),o=$("#rendimento").val();2!=o||4!=e&&5!=e?2==o&&6!=$("#fonte-aq").val()?($("#rendimento").find("option[value='2']").html("Inserir rendimento"),$("#iRendMan").show(),$("#labelIRendman").hide()):6!=$("#fonte-aq").val()?($("#iRendMan").val(""),$("#iRendMan").hide(),$("#labelIRendman").hide()):($("#rendimento").find("option[value='2']").html("Inserir rendimento"),$("#iRendMan").hide(),$("#labelIRendman").hide()):($("#rendimento").find("option[value='2']").html("Inserir COP"),$("#iRendMan").show(),$("#labelIRendman").hide()),0==o&&""!=o&&void 0!=o?($(".age").show(),$("#idade").show()):($(".age").hide(),$("#idade").val(""))}function eerLink(){var e=$("#eer").val();2==e&&""!=e&&void 0!=e?($("#iRendManArr").show(),$("#labelIRendmanArr").show(),$(".age-eer").hide(),$("#age-eer").val("")):0==e&&""!=e&&void 0!=e?($("#iRendManArr").hide(),$("#labelIRendmanArr").hide(),$(".age-eer").show(),$("#age-eer").show()):($("#iRendManArr").hide(),$("#labelIRendmanArr").hide(),$(".age-eer").hide(),$("#age-eer").hide())}function buildTipoConsumoTable(){$("#aquecimento-consumo").find("option[value=0]").remove(),$("#aquecimento-consumo").find("option[value=1]").remove(),$("#arrefecimento-consumo").find("option[value=0]").remove(),$("#arrefecimento-consumo").find("option[value=1]").remove(),$("#aqs-consumo").find("option[value=0]").remove(),$("#aqs-consumo").find("option[value=1]").remove();var e="",o=[],a=0,i=$("#escolhe").val(),n=$("#consumo-quest").val(),s=$("#use-aqs").val(),t=$("#cons-aqs").val();for(o[a++]="aquecimento",o[a++]="arrefecimento",o[a++]="aqs",j=0;j<3;j++)$("#tabela-consumo-"+o[j]).html("");o=[];for(var l=0;l<consumos.length;l++)""!=n&&void 0!=n&&0==n?(""==i||void 0==i||0!=i&&2!=i||($("#arrefecimento-size").hide(),$("#aquecimento-size").show(),$("#aquecimento-consumo").append($('<option class="op"></option>').val(l).html(consumos[l]))),""==i||void 0==i||1!=i&&2!=i||($("#aquecimento-size").hide(),$("#arrefecimento-size").show(),$("#arrefecimento-consumo").append($('<option class="op"></option>').val(l).html(consumos[l])))):($("#aquecimento-size").hide(),$("#arrefecimento-size").hide()),""!=s&&void 0!=s&&0==s&&""!=t&&void 0!=t&&0==t?($("#aqs-size").show(),$("#aqs-consumo").append($('<option class="op"></option>').val(l).html(consumos[l]))):$("#aqs-size").hide()}function responsiveFunctionTable(){var e=new Number($("#escolhe").val()),o=new Number($("#use-aqs").val()),a=new Number($("#consumo-quest").val()),i=new Number($("#cons-aqs").val());0==e&&1==o?($("#aquecimento-size").removeClass("col-md-4"),$("#aquecimento-size").removeClass("col-md-6"),$("#aquecimento-size").addClass("col-md-12"),$("#aquecimento-size").css("display","block"),$("#arrefecimento-size").css("display","none"),$("#aqs-size").css("display","none")):0==e&&0==o&&0==i?($("#aquecimento-size").removeClass("col-md-4"),$("#aquecimento-size").removeClass("col-md-12"),$("#aquecimento-size").addClass("col-md-6"),$("#aqs-size").removeClass("col-md-4"),$("#aqs-size").removeClass("col-md-12"),$("#aqs-size").addClass("col-md-6"),$("#aquecimento-size").css("display","block"),$("#aqs-size").css("display","block"),$("#arrefecimento-size").css("display","none")):1==e&&1==o?($("#arrefecimento-size").removeClass("col-md-4"),$("#arrefecimento-size").removeClass("col-md-6"),$("#arrefecimento-size").addClass("col-md-12"),$("#arrefecimento-size").css("display","block"),$("#aquecimento-size").css("display","none"),$("#aqs-size").css("display","none")):1==e&&0==o&&0==i?($("#arrefecimento-size").removeClass("col-md-4"),$("#arrefecimento-size").removeClass("col-md-12"),$("#arrefecimento-size").addClass("col-md-6"),$("#aqs-size").removeClass("col-md-4"),$("#aqs-size").removeClass("col-md-12"),$("#aqs-size").addClass("col-md-6"),$("#aquecimento-size").css("display","none"),$("#arrefecimento-size").css("display","block"),$("#aqs-size").css("display","block")):2==e&&1==o?($("#aquecimento-size").removeClass("col-md-4"),$("#aquecimento-size").removeClass("col-md-12"),$("#aquecimento-size").addClass("col-md-6"),$("#arrefecimento-size").removeClass("col-md-4"),$("#arrefecimento-size").removeClass("col-md-12"),$("#arrefecimento-size").addClass("col-md-6"),$("#aquecimento-size").css("display","block"),$("#arrefecimento-size").css("display","block"),$("#aqs-size").css("display","none")):2==e&&0==o&&0==i&&($("#aquecimento-size").removeClass("col-md-6"),$("#aquecimento-size").removeClass("col-md-12"),$("#aquecimento-size").addClass("col-md-4"),$("#arrefecimento-size").removeClass("col-md-6"),$("#arrefecimento-size").removeClass("col-md-12"),$("#arrefecimento-size").addClass("col-md-4"),$("#aqs-size").removeClass("col-md-6"),$("#aqs-size").removeClass("col-md-12"),$("#aqs-size").addClass("col-md-4"),$("#aquecimento-size").css("display","block"),$("#arrefecimento-size").css("display","block"),$("#aqs-size").css("display","block"))}function buildConsumoTable(){var e=new Number($("#escolhe").val()),o=new Number($("#use-aqs").val()),a=new Number($("#consumo-quest").val()),i=new Number($("#cons-aqs").val()),n=$("#fonte-aq").val(),s="",t=[],l=0;0==e&&0==a&&1==o?t[l++]="aquecimento":0==e&&0==a&&0==o?(t[l++]="aquecimento",t[l++]="aqs"):1==e&&0==a&&1==o?t[l++]="arrefecimento":1==e&&0==a&&0==o&&0==i?(t[l++]="arrefecimento",t[l++]="aqs"):2==e&&1==o?(t[l++]="aquecimento",t[l++]="arrefecimento"):2==e&&0==a&&0==o&&0==i&&(t[l++]="aquecimento",t[l++]="arrefecimento",t[l++]="aqs");for(var r=0;r<l;r++)if(void 0!=t&&""!=t&&t.length>0){s='<table class="table table-bordered" id="'+t[r]+'Table"><tbody>';var d=$("#"+t[r]+"-consumo").val();if(""!=d&&void 0!=d&&0==d)s+='<tr class="textTR"><td class="in">TOTAL ANUAL ('+tecnologia_atual_aquecimento[n].unidade+')</td><td class="in"><input id="'+t[r]+'ConsumoAnualTotal" name="'+t[r]+'ConsumoAnualTotal" type="number" placeholder="0" class="form-control xInput"/></td></tr>';else if(""!=d&&void 0!=d&&1==d){for(s+='<tr class="textTR"><td class="in">MESES</td><td class="in">Unidade ('+tecnologia_atual_aquecimento[n].unidade+")</td></tr>",j=0;j<meses_numero_horas.length;j++)s+='<tr class="textTR"><td class="in">'+meses_numero_horas[j].mes+'</td><td class="in"><input id="'+t[r]+"ConsumoMeses["+j+']" name="'+t[r]+"ConsumosMeses["+j+']" type="number" placeholder="0" class="form-control xInput"/></td></tr>';s+='<tr class="textTR"><td class="in">TOTAL ANUAL</td><td class="in"><input type="number" id="total_consumo_somatorio_'+t[r]+'" disabled="disabled" placeholder="0"  class="form-control xInput"/></label></td></tr>'}for(s+="</tbody></table>",$("#tabela-consumo-"+t[r]).html(s),$("#tabela-consumo-"+t[r]).find("td.in").find("input").change(function(){for(totalAnualConsumos=0,j=0;j<meses_numero_horas.length;j++)totalAnualConsumos+=new Number($("input[name='"+t[r]+"ConsumosMeses["+j+"]']").val());$("#total_consumo_somatorio_"+t[r]).val(totalAnualConsumos)}),j=0;j<meses_numero_horas.length;j++)$("input[name='"+t[r]+"ConsumosMeses["+j+"]']").rules("add",{required:!0,messages:{required:'<label style="font-size: 14px; color: red;">Este campo é obrigatório.</label>'}})}}function useAqsLink(){0==$("#use-aqs").val()?$(".pres-aqs").removeClass("use-aqs-link"):$(".pres-aqs").addClass("use-aqs-link")}function presAqsLink(){0==$("#pres-aqs").val()?$(".cons-aqs").removeClass("pres-aqs-link"):$(".cons-aqs").addClass("pres-aqs-link")}function simulacaoLink(){0==$("#simulacao-aqs").val()?($(".orientacao").removeClass("simulacao-link"),$("#perfilAQS-same").removeClass("perfil-hidden")):($(".orientacao").addClass("simulacao-link"),$("#perfilAQS-same").addClass("perfil-hidden"))}function fonteToTecnologia(){0==$("#escolhe").val()?($(".fonte-aquecimento").css("display","inherit"),$(".pot-aq").css("display","inherit"),$(".custo-energia-unit-aq").css("display","inherit"),$(".fonte-ar").css("display","none"),$(".pot-ar").css("display","none"),$(".eer").css("display","none"),$(".custo-energia-unit-ar").css("display","none"),$(".new-fonte-aq").show(),$(".pot-med-aq").show(),$(".rend-med").show(),$(".custo-unit-med-aq").show(),$(".new-fonte-ar").hide(),$(".pot-med-ar").hide(),$(".eer-med-ar").hide(),$(".custo-unit-med-ar").hide()):1==$("#escolhe").val()?($(".fonte-aquecimento").css("display","none"),$(".pot-aq").css("display","none"),$(".rend").css("display","none"),$(".custo-energia-unit-aq").css("display","none"),$(".use-aqs").css("display","none"),$(".fonte-ar").css("display","inherit"),$(".pot-ar").css("display","inherit"),$(".eer").css("display","inherit"),$(".custo-energia-unit-ar").css("display","inherit"),$(".new-fonte-aq").hide(),$(".pot-med-aq").hide(),$(".rend-med").hide(),$(".custo-unit-med-aq").hide(),$(".new-fonte-ar").show(),$(".pot-med-ar").show(),$(".eer-med-ar").show(),$(".custo-unit-med-ar").show()):2==$("#escolhe").val()&&($(".fonte-aquecimento").css("display","inherit"),$(".pot-aq").css("display","inherit"),$(".custo-energia-unit-aq").css("display","inherit"),$(".fonte-ar").css("display","inherit"),$(".pot-ar").css("display","inherit"),$(".eer").css("display","inherit"),$(".custo-energia-unit-ar").css("display","inherit"),$(".new-fonte-aq").show(),$(".pot-med-aq").show(),$(".rend-med").show(),$(".custo-unit-med-aq").show(),$(".new-fonte-ar").show(),$(".pot-med-ar").show(),$(".eer-med-ar").show(),$(".custo-unit-med-ar").show())}function consumoGoTo(){var e=$(".step:visible").data("id"),o=$(".step:visible").data("id")+1,a=$("#use-aqs").val(),i=$("#consumo-quest").val(),n=$("#pres-aqs").val(),s=$("#cons-aqs").val();1==i&&(1==a||0==a&&1==n)?($('[data-id="'+e+'"]').hide(),$('[data-id="5"]').show(),$(".but-2").hide(),$(".perfil-consumo-step").hide(),$(".perfil-consumo-back").hide(),$(".end-step").show()):0==i&&(1==a||0==a&&1==n)?($('[data-id="'+e+'"]').hide(),$('[data-id="4"]').show(),$(".but-2").hide(),$(".perfil-consumo-step").hide(),$(".perfil-consumo-back").show(),$(".end-step").hide()):1==i&&0==a&&0==n&&1==s?2==e?($('[data-id="'+e+'"]').hide(),$('[data-id="3"]').show(),$(".but-2").hide(),$(".perfil-consumo-step").show(),$(".perfil-consumo-back").hide(),$(".end-step").hide()):3==e&&($('[data-id="'+e+'"]').hide(),$('[data-id="5"]').show(),$(".but-2").hide(),$(".perfil-consumo-step").hide(),$(".perfil-consumo-back").hide(),$(".end-step").show()):0==i&&0==a&&0==n&&1==s&&(2==e?($('[data-id="'+e+'"]').hide(),$('[data-id="3"]').show(),$(".but-2").hide(),$(".perfil-consumo-step").show(),$(".perfil-consumo-back").hide(),$(".end-step").hide()):3==e?($('[data-id="'+e+'"]').hide(),$('[data-id="4"]').show(),$(".but-2").hide(),$(".perfil-consumo-step").show(),$(".perfil-consumo-back").hide(),$(".end-step").hide()):4==e&&($('[data-id="'+e+'"]').hide(),$('[data-id="5"]').show(),$(".but-2").hide(),$(".perfil-consumo-step").hide(),$(".perfil-consumo-back").hide(),$(".end-step").show()))}function consumoBackTo(){var e=$(".step:visible").data("id"),o=$(".step:visible").data("id")-1,a=$("#use-aqs").val(),i=$("#consumo-quest").val(),n=$("#pres-aqs").val(),s=$("#cons-aqs").val();1==i&&(1==a||0==a&&1==n)?2==e&&1==o&&($('[data-id="'+e+'"]').hide(),$('[data-id="1"]').show(),$(".but-2").show(),$(".perfil-consumo-step").hide(),$(".perfil-consumo-back").hide(),$(".end-step").hide(),$("#anterior-inicio").hide()):0==i&&(1==a||0==a&&1==n)?2==e&&1==o?($('[data-id="'+e+'"]').hide(),$('[data-id="1"]').show(),$(".but-2").show(),$(".perfil-consumo-step").hide(),$(".perfil-consumo-back").hide(),$(".end-step").hide(),$("#anterior-inicio").hide()):4==e&&($('[data-id="'+e+'"]').hide(),$('[data-id="2"]').show(),$(".but-2").hide(),$(".perfil-consumo-step").show(),$(".perfil-consumo-back").hide(),$(".end-step").hide()):1==i&&0==a&&0==n&&1==s?2==e&&1==o?($('[data-id="'+e+'"]').hide(),$('[data-id="1"]').show(),$(".but-2").show(),$(".perfil-consumo-step").hide(),$(".perfil-consumo-back").hide(),$(".end-step").hide(),$("#anterior-inicio").hide()):3==e&&($('[data-id="'+e+'"]').hide(),$('[data-id="'+o+'"]').show(),$(".but-2").hide(),$(".perfil-consumo-step").show(),$(".perfil-consumo-back").hide(),$(".end-step").hide()):0==i&&0==a&&0==n&&1==s?2==e&&1==o?($('[data-id="'+e+'"]').hide(),$('[data-id="1"]').show(),$(".but-2").show(),$(".perfil-consumo-step").hide(),$(".perfil-consumo-back").hide(),$(".end-step").hide(),$("#anterior-inicio").hide()):3==e?($('[data-id="'+e+'"]').hide(),$('[data-id="'+o+'"]').show(),$(".but-2").hide(),$(".perfil-consumo-step").show(),$(".perfil-consumo-back").hide(),$(".end-step").hide()):4==e&&($('[data-id="'+e+'"]').hide(),$('[data-id="'+o+'"]').show(),$(".but-2").hide(),$(".perfil-consumo-step").show(),$(".perfil-consumo-back").hide(),$(".end-step").hide()):0!=i||""!=a&&void 0!=a||""!=n&&void 0!=n||($('[data-id="'+e+'"]').hide(),$('[data-id="1"]').show(),$(".but-2").show(),$(".perfil-consumo-step").hide(),$(".perfil-consumo-back").hide(),$(".end-step").hide())}function nextStep(){var e=$(".step:visible").data("id"),o=$(".step:visible").data("id")+1;$('[data-id="'+e+'"]').hide(),$('[data-id="'+o+'"]').show(),$(".anterior:hidden").length>1&&$(".anterior").show(),1==$("#escolhe").val()&&3==e&&($('[data-id="'+e+'"]').hide(),$('[data-id="'+o+'"]').hide(),$('[data-id="5"]').show()),2==o&&($(".but-2").hide(),$(".perfil-consumo-step").show(),$(".perfil-consumo-back").hide(),$(".end-step").hide()),5==o&&($(".but-2").hide(),$(".perfil-consumo-step").hide(),$(".perfil-consumo-back").hide(),$(".end-step").show(),$("#perfilAQS-same").addClass("perfil-hidden")),6==o&&($(".but-2").hide(),$(".perfil-consumo-step").hide(),$(".perfil-consumo-back").hide(),$(".end-step").show(),$(".end-but").hide())}function prevStep(){var e=$(".step:visible").data("id"),o=$(".step:visible").data("id")-1,a=$("#use-aqs").val(),i=$("#consumo-quest").val(),n=$("#pres-aqs").val(),s=$("#cons-aqs").val();1==i&&(1==a||0==a&&1==n)?(5==e&&($('[data-id="'+e+'"]').hide(),$('[data-id="2"]').show(),$(".but-2").hide(),$(".perfil-consumo-step").show(),$(".perfil-consumo-back").hide(),$(".end-step").hide()),6==e&&($('[data-id="'+e+'"]').hide(),$('[data-id="'+o+'"]').show(),$(".but-2").hide(),$(".perfil-consumo-step").hide(),$(".perfil-consumo-back").hide(),$(".end-step").show(),$(".end-but").show())):0==i&&(1==a||0==a&&1==n)?5==e?($('[data-id="'+e+'"]').hide(),$('[data-id="'+o+'"]').show(),$(".but-2").hide(),$(".perfil-consumo-step").show(),$(".perfil-consumo-back").hide(),$(".end-step").hide()):6==e&&($('[data-id="'+e+'"]').hide(),$('[data-id="'+o+'"]').show(),$(".but-2").hide(),$(".perfil-consumo-step").hide(),$(".perfil-consumo-back").hide(),$(".end-step").show(),$(".end-but").show()):1==i&&0==a&&0==n&&1==s?5==e?($('[data-id="'+e+'"]').hide(),$('[data-id="3"]').show(),$(".but-2").hide(),$(".perfil-consumo-step").show(),$(".perfil-consumo-back").hide(),$(".end-step").hide()):6==e&&($('[data-id="'+e+'"]').hide(),$('[data-id="'+o+'"]').show(),$(".but-2").hide(),$(".perfil-consumo-step").hide(),$(".perfil-consumo-back").hide(),$(".end-step").show(),$(".end-but").show()):0==i&&0==a&&0==n&&1==s&&(5==e?($('[data-id="'+e+'"]').hide(),$('[data-id="'+o+'"]').show(),$(".but-2").hide(),$(".perfil-consumo-step").show(),$(".perfil-consumo-back").hide(),$(".end-step").hide()):6==e&&($('[data-id="'+e+'"]').hide(),$('[data-id="'+o+'"]').show(),$(".but-2").hide(),$(".perfil-consumo-step").hide(),$(".perfil-consumo-back").hide(),$(".end-step").show(),$(".end-but").show()))}$(document).ready(function(){buildUtilizacao(),buildDistrito(),buildFontesEnergia(),buildTipoConsumo(),buildPerfilMensal(),buildPerfilSemanal(),buildPerfilSel(),buildPeriodos(),buildClasseEnergia(),buildAnosConst(),buildTipoEnvidracado(),buildFonteAquecimento(),buildFonteArrefecimento(),buildFonteNewAquecimento(),buildFonteNewArrefecimento(),buildDesvios(),buildIdade(),buildIdadeArr(),rendCopLink(),eerLink(),fonteAqLink(),fonteArrLink(),$("#teste").on("click",function(){buildConsumoTable()}),$("#escolhe").change(fonteToTecnologia),$("select[name='consumos-caixa[]'").change(getFontesEnergiaData),$("#valor-input-consumo").change(dadosFirstTotal),$("#consumo-quest").change(consumoLinks),$("#cobertura").change(coberturaLinks),$("#classe-en").change(classeLinks),$("#ano").change(anoLinks),$("#fonte-aq").change(fonteAqLink),$("#fonte-ar").change(fonteArrLink),$("#rendimento").change(rendCopLink),$("#use-aqs").change(useAqsLink),$("#escolhe").change(responsiveFunctionTable),$("#use-aqs").change(responsiveFunctionTable),$("#consumo-quest").change(responsiveFunctionTable),$("#cons-aqs").change(responsiveFunctionTable),$("#cons-aqs").change(buildTipoConsumoTable),$("#escolhe").change(buildTipoConsumoTable),$("#consumo-quest").change(buildTipoConsumoTable),$("#aquecimento-consumo").change(buildConsumoTable),$("#aqs-consumo").change(buildConsumoTable),$("#pres-aqs").change(presAqsLink),$("#simulacao-aqs").change(simulacaoLink),$("#perfil-mensal").change(getPerfilMensal),$("#perfil-semanal").change(getPerfilSemanal),$("#new-fonte-aq").change(getCustoUnit),$("#tipo-consumo").change(setNumberOf),$("#tipo-consumo"+rowId).change(getTipoConsumo),$("#add-consume").click(addRowConsumes),$("#remove-consume").click(removeRowConsumes),$("#tipo-envid").change(selWidth),$("#orientacao-paineis").change(function(){5==$(this).val()?($("#orientacao-input").val(""),$("#orientacao-input").removeAttr("disabled")):""!=$(this).val()&&void 0!=$(this).val()&&$(this).val()>0?($("#orientacao-input").val(desvios[$(this).val()].valor),$("#orientacao-input").attr("disabled","disabled")):($(this).val(""),$("#orientacao-input").val(""),$("#orientacao-input").attr("disabled","disabled"))}),$("#add").on("click",function(){rowId++;var e=$("#tb tr:eq(1)").clone(!0).appendTo("#tb").insertBefore("#add_row");e.find("input").val("").attr("id","tipo-consumo-value"+rowId),e.find("select").attr("id","tipo-consumo"+rowId),e.find("td:eq(1)").attr("id","tipo-consumo-descricao"+rowId).html(""),$("#tipo-consumo-value"+rowId).rules("add",{required:!0,min:1,step:1,digits:!0,messages:{required:'<label style="font-size: 14px; color: red;">Este campo é obrigatório.</label>',min:'<label style="font-size: 14px; color: red;">O mínimo é 1.</label>',step:'<label style="font-size: 14px; color: red;">O passo de incremento é de 1.</label>',digits:'<label style="font-size: 14px; color: red;">Insera números sem casas decimais.Ex: 10</label>'}}),$("#tipo-consumo"+rowId).rules("add",{required:!0,messages:{required:'<label style="font-size: 14px; color: red;">Este campo é obrigatório.</label>'}})}),$(document).on("click","#remove",function(){rowId--,$(this).closest("tr").index()>1?$(this).closest("tr").remove():alert("Não pode remover a última coluna.")}),$("#climatizacao").validate({rules:{escolhe:{required:!0},distrito:{required:!0},"area-dados-input":{required:!0},"total-titulo":{required:!0},"consumo-quest":{required:!0},cobertura:{required:function(e){return 0==$("#consumo-quest").val()&&void 0!=$("#consumo-quest").val()&&""!=$("#consumo-quest").val()}},"area-cobertura-input":{required:function(e){return 0==$("#cobertura").val()&&void 0!=$("#cobertura").val()&&""!=$("#cobertura").val()}},perfil:{required:!0},periodos:{required:!0},"classe-en":{required:!0},ano:{required:function(e){return 8==$("#classe-en").val()}},"tipo-envid":{required:function(e){return(0==$("#ano").val()||2==$("#ano").val()||3==$("#ano").val())&&void 0!=$("#ano").val()&&""!=$("#ano").val()}},"tipo-consumo1":{required:!0},"tipo-consumo-value1":{required:!0,min:1,step:1,digits:!0},"isol-paredes":{required:!0},"isol-cobertura":{required:!0},"fonte-aq":{required:!0},"potencia-aq":{required:!0},rendimento:{required:!0},iRendMan:{required:function(e){return 2==$("#rendimento").val()}},idade:{required:function(e){return 0==$("#rendimento").val()&&void 0!=$("#rendimento").val()&&""!=$("#rendimento").val()}},"custo-en-unit-aq":{required:!0},"use-aqs":{required:!0},"pres-aqs":{required:function(e){return 0==$("#use-aqs").val()&&void 0!=$("#use-aqs").val()&&""!=$("#use-aqs").val()}},"cons-aqs":{required:function(e){return 0==$("#use-aqs").val()&&void 0!=$("#use-aqs").val()&&""!=$("#use-aqs").val()&&0==$("#pres-aqs").val()&&void 0!=$("#pres-aqs").val()&&""!=$("#pres-aqs").val()}},"perfil-mensal":{required:!0},"perfil-semanal":{required:!0},"aquecimento-consumo":{required:!0},aquecimentoConsumoAnualTotal:{required:function(e){return 0==$("#aquecimento-consumo").val()&&void 0!=$("#aquecimento-consumo").val()&&""!=$("#aquecimento-consumo").val()}},"new-fonte-aq":{required:!0},"pot-med-aq":{required:!0},"rend-med":{required:!0},"custo-unit-med-aq":{required:!0},"orientacao-paineis":{required:!0}},messages:{escolhe:{required:'<label style="font-size: 14px; color: red;">Este campo é obrigatório.</label>'},distrito:{required:'<label style="font-size: 14px; color: red;">Este campo é obrigatório.</label>'},"area-dados-input":{required:'<label style="font-size: 14px; color: red;">Este campo é obrigatório.</label>'},"total-titulo":{required:'<label style="font-size: 14px; color: red;">Este campo é obrigatório.</label>'},"consumo-quest":{required:'<label style="font-size: 14px; color: red;">Este campo é obrigatório.</label>'},cobertura:{required:'<label style="font-size: 14px; color: red;">Este campo é obrigatório.</label>'},"area-cobertura-input":{required:'<label style="font-size: 14px; color: red;">Este campo é obrigatório.</label>'},perfil:{required:'<label style="font-size: 14px; color: red;">Este campo é obrigatório.</label>'},periodos:{required:'<label style="font-size: 14px; color: red;">Este campo é obrigatório.</label>'},"classe-en":{required:'<label style="font-size: 14px; color: red;">Este campo é obrigatório.</label>'},ano:{required:'<label style="font-size: 14px; color: red;">Este campo é obrigatório.</label>'},"tipo-envid":{required:'<label style="font-size: 14px; color: red;">Este campo é obrigatório.</label>'},"tipo-consumo1":{required:'<label style="font-size: 14px; color: red;">Este campo é obrigatório.</label>'},"tipo-consumo-value1":{required:'<label style="font-size: 14px; color: red;">Este campo é obrigatório.</label>'},"isol-paredes":{required:'<label style="font-size: 14px; color: red;">Este campo é obrigatório.</label>'},"isol-cobertura":{required:'<label style="font-size: 14px; color: red;">Este campo é obrigatório.</label>'},"fonte-aq":{required:'<label style="font-size: 14px; color: red;">Este campo é obrigatório.</label>'},"potencia-aq":{required:'<label style="font-size: 14px; color: red;">Este campo é obrigatório.</label>'},rendimento:{required:'<label style="font-size: 14px; color: red;">Este campo é obrigatório.</label>'},iRendMan:{required:'<label style="font-size: 14px; color: red;">Este campo é obrigatório.</label>',min:'<label style="font-size: 14px; color: red;">O rendimento mínimo é 0%.</label>',max:function(e){
return""!=$("#sis_prod").val()&&void 0!=$("#sis_prod").val()&&0==$("#sis_prod").val()?'<label style="font-size: 14px; color: red;">O rendimento máximo é 7.</label>':'<label style="font-size: 14px; color: red;">O rendimento máximo é 110%.</label>'},step:'<label style="font-size: 14px; color: red;">o incremento é de 0.1.</label>'},idade:{required:'<label style="font-size: 14px; color: red;">Este campo é obrigatório.</label>'},"custo-en-unit-aq":{required:'<label style="font-size: 14px; color: red;">Este campo é obrigatório.</label>',number:'<label style="font-size: 14px; color: red;">Inserir um número válido. Ex: 0.10</label>',step:'<label style="font-size: 14px; color: red;">o passo de incremento é de 0.00001 .</label>',min:'<label style="font-size: 14px; color: red;">O mínimo é 0.00001 .</label>'},"use-aqs":{required:'<label style="font-size: 14px; color: red;">Este campo é obrigatório.</label>'},"pres-aqs":{required:'<label style="font-size: 14px; color: red;">Este campo é obrigatório.</label>'},"cons-aqs":{required:'<label style="font-size: 14px; color: red;">Este campo é obrigatório.</label>'},"perfil-mensal":{required:'<label style="font-size: 14px; color: red;">Este campo é obrigatório.</label>'},"perfil-semanal":{required:'<label style="font-size: 14px; color: red;">Este campo é obrigatório.</label>'},"aquecimento-consumo":{required:'<label style="font-size: 14px; color: red;">Este campo é obrigatório.</label>'},aquecimentoConsumoAnualTotal:{required:'<label style="font-size: 14px; color: red;">Este campo é obrigatório.</label>'},"new-fonte-aq":{required:'<label style="font-size: 14px; color: red;">Este campo é obrigatório.</label>'},"pot-med-aq":{required:'<label style="font-size: 14px; color: red;">Este campo é obrigatório.</label>'},"rend-med":{required:'<label style="font-size: 14px; color: red;">Este campo é obrigatório.</label>'},"custo-unit-med-aq":{required:'<label style="font-size: 14px; color: red;">Este campo é obrigatório.</label>',number:'<label style="font-size: 14px; color: red;">Inserir um número válido. Ex: 0.10</label>',step:'<label style="font-size: 14px; color: red;">o passo de incremento é de 0.00001 .</label>',min:'<label style="font-size: 14px; color: red;">O mínimo é 0.00001 .</label>'},"orientacao-paineis":{required:'<label style="font-size: 14px; color: red;">Este campo é obrigatório.</label>'}}}),$(".seguinte").click(function(){if($("#climatizacao").valid()){var e=$(".step:visible").data("id");1==e&&void 0!=e&&""!=e?nextStep():2==e?consumoGoTo():3==e?consumoGoTo():4==e&&nextStep()}}),$(".end-but").click(function(){$("#climatizacao").valid()&&areaCalc()})});